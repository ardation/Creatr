(function(){function j(a){throw a;}var k=void 0,n=!0,p=null,q=!1;function aa(){return function(){}}function s(a){return function(){return this[a]}}function t(a){return function(){return a}}var v,w=this;
function ba(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function x(a){return a!==k}function y(a){return"array"==ba(a)}function ca(a){var b=ba(a);return"array"==b||"object"==b&&"number"==typeof a.length}function z(a){return"string"==typeof a}function da(a){return"boolean"==typeof a}function A(a){return"number"==typeof a}function B(a){return"function"==ba(a)}function C(a){var b=typeof a;return"object"==b&&a!=p||"function"==b}function ea(a){return a[fa]||(a[fa]=++ga)}
var fa="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ga=0;function ha(a,b,c){return a.call.apply(a.bind,arguments)}function ia(a,b,c){a||j(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function ja(a,b,c){ja=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia;return ja.apply(p,arguments)}function ka(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var la=Date.now||function(){return+new Date};
function E(a,b){var c=a.split("."),d=w;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&x(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function F(a,b){function c(){}c.prototype=b.prototype;a.T=b.prototype;a.prototype=new c};function G(a,b,c,d){this.lower=a;this.upper=b;this.lowerOpen=!!c;this.upperOpen=!!d}v=G.prototype;v.lower=k;v.upper=k;v.lowerOpen=q;v.upperOpen=q;v.toJSON=function(){return ma(this)};function oa(a,b,c,d){return new G(a,b,c,d)}function pa(a){var b;y(a)?(b=qa(JSON.stringify(a)),b.push("\uffff")):z(a)?b=a+"\uffff":j(p);return oa(a,b,q,n)}function ma(a){a=a||{};return{lower:a.lower,upper:a.upper,lowerOpen:a.lowerOpen,upperOpen:a.upperOpen}}
function ra(a){return a==p?p:x(a.upper)&&x(a.lower)?sa.bound(a.lower,a.upper,!!a.lowerOpen,!!a.upperOpen):x(a.upper)?sa.upperBound(a.upper,a.upperOpen):x(a.lower)?sa.lowerBound(a.lower,a.lowerOpen):p}function ta(a,b,c,d){var e,f,g,h;if("LIKE%"==a)return pa(b);if("<"==a||"<="==a)e=b,g="<"==a;else if(">"==a||">="==a)f=b,h=">"==a;else if("="==a||"=="==a)e=f=b;"<"==c||"<="==c?(e=d,g="<"==c):">"==c||">="==c?(f=d,h=">"==c):x(c)&&j(p);return oa(f,e,h,g)}var sa=w.IDBKeyRange||w.webkitIDBKeyRange||G;function ua(a,b){for(var c=b.length,d=0;d<c;d++){var e=1==c?b:b.charAt(d);if(a.charAt(0)==e&&a.charAt(a.length-1)==e)return a.substring(1,a.length-1)}return a}var wa={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\"},xa={"'":"\\'"};
function H(a){a=String(a);if(a.quote)return a.quote();for(var b=['"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0),f=b,g=c+1,h;if(!(h=wa[d])){if(!(31<e&&127>e))if(d in xa)d=xa[d];else if(d in wa)d=xa[d]=wa[d];else{e=d;h=d.charCodeAt(0);if(31<h&&127>h)e=d;else{if(256>h){if(e="\\x",16>h||256<h)e+="0"}else e="\\u",4096>h&&(e+="0");e+=h.toString(16).toUpperCase()}d=xa[d]=e}h=d}f[g]=h}b.push('"');return b.join("")};function ya(a){Error.captureStackTrace?Error.captureStackTrace(this,ya):this.stack=Error().stack||"";a&&(this.message=String(a))}F(ya,Error);ya.prototype.name="CustomError";var za=Array.prototype,Aa=za.indexOf?function(a,b,c){return za.indexOf.call(a,b,c)}:function(a,b,c){c=c==p?0:0>c?Math.max(0,a.length+c):c;if(z(a))return!z(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ba=za.map?function(a,b,c){return za.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=z(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ca=za.some?function(a,b,c){return za.some.call(a,b,c)}:function(a,b,c){for(var d=
a.length,e=z(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return n;return q};function Da(a,b){var c=Ea(a,b,k);return 0>c?p:z(a)?a.charAt(c):a[c]}function Ea(a,b,c){for(var d=a.length,e=z(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Fa(a){if(!y(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function Ga(a,b){var c=Aa(a,b);0<=c&&za.splice.call(a,c,1)}
function Ha(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Ia(a,b,c,d){za.splice.apply(a,Ja(arguments,1))}function Ja(a,b,c){return 2>=arguments.length?za.slice.call(a,b):za.slice.call(a,b,c)}function Ka(a,b){return a>b?1:a<b?-1:0};function La(a,b){for(var c=ca(b),d=c?b:arguments,c=c?0:1;c<d.length&&!(a=a[d[c]],!x(a));c++);return a}var Ma="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Na(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ma.length;f++)c=Ma[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Oa,Pa,Qa,Ra;function Sa(){return w.navigator?w.navigator.userAgent:p}Ra=Qa=Pa=Oa=q;var Ta;if(Ta=Sa()){var Ua=w.navigator;Oa=0==Ta.indexOf("Opera");Pa=!Oa&&-1!=Ta.indexOf("MSIE");Qa=!Oa&&-1!=Ta.indexOf("WebKit");Ra=!Oa&&!Qa&&"Gecko"==Ua.product}var Va=Oa,Wa=Pa,Xa=Ra,Ya=Qa,Za;
a:{var $a="",ab;if(Va&&w.opera)var bb=w.opera.version,$a="function"==typeof bb?bb():bb;else if(Xa?ab=/rv\:([^\);]+)(\)|;)/:Wa?ab=/MSIE\s+([^\);]+)(\)|;)/:Ya&&(ab=/WebKit\/(\S+)/),ab)var eb=ab.exec(Sa()),$a=eb?eb[1]:"";if(Wa){var fb,gb=w.document;fb=gb?gb.documentMode:k;if(fb>parseFloat($a)){Za=String(fb);break a}}Za=$a}var hb={};
function jb(a){var b;if(!(b=hb[a])){b=0;for(var c=String(Za).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",l=/(\d*)(\D*)/g,m=/(\d*)(\D*)/g;do{var u=l.exec(g)||["","",""],r=m.exec(h)||["","",""];if(0==u[0].length&&0==r[0].length)break;b=((0==u[1].length?0:parseInt(u[1],10))<(0==r[1].length?0:parseInt(r[1],10))?-1:(0==u[1].length?0:parseInt(u[1],10))>(0==r[1].length?
0:parseInt(r[1],10))?1:0)||((0==u[2].length)<(0==r[2].length)?-1:(0==u[2].length)>(0==r[2].length)?1:0)||(u[2]<r[2]?-1:u[2]>r[2]?1:0)}while(0==b)}b=hb[a]=0<=b}return b}var kb={};function lb(){return kb[9]||(kb[9]=Wa&&!!document.documentMode&&9<=document.documentMode)};new function(){la()};!Wa||lb();!Xa&&!Wa||Wa&&lb()||Xa&&jb("1.9.1");Wa&&jb("9");function mb(a,b,c,d,e){var f,g,h,l;if(C(b))g=b.lower,f=b.upper,l=b.lowerOpen,h=b.upperOpen;else{if("<"==b||"<="==b)f=c,h="<"==b;else if(">"==b||">="==b)g=c,l=">"==b;else if("="==b||"=="==b)f=g=c;"<"==d||"<="==d?(f=e,h="<"==d):">"==d||">="==d?(g=e,l=">"==d):x(d)&&j(p)}G.call(this,g,f,l,h);this.U=a}F(mb,G);mb.prototype.U="";
function pb(a,b,c){var d="",e=[];if(c)if(a=H(a),c==p||!x(c.lower)||!x(c.upper)?0:y(c.lower)&&y(c.upper)?c.lower.length==c.upper.length-1&&"\uffff"==c.upper[c.upper.length-1]&&c.lower.every(function(a,b){return a==c.upper[b]}):!c.lowerOpen&&!c.upperOpen&&c.lower.length==c.upper.length+1&&"\uffff"==c.upper[c.lower.length-1])if(y(b))if(d=a+" LIKE ?",y(c.lower))for(b=0;b<c.lower.length;b++)0<b&&(d+=" AND "),d+=a+" LIKE ? ",e.push(qb+c.lower[b]+qb);else d=" 1 = 2 ";else d=a+" LIKE ?",e.push(rb(c.lower,
b)+"%");else c.lower==c.upper?(d=a+" = ?",e.push(rb(c.lower,b))):(x(c.lower)&&(d+=" "+a+(c.lowerOpen?" > ":" >= ")+"?",e.push(rb(c.lower,b))),x(c.upper)&&(d+=(0<d.length?" AND ":" ")+a+(c.upperOpen?" < ":" <= ")+"?",e.push(rb(c.upper,b))));return{sql:d,ta:e}};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function I(a,b){this.a=[];this.i=b||p}v=I.prototype;v.la=q;v.ma=q;v.ua=0;v.Jb=q;v.Vb=q;v.Ub=0;v.wb=function(a,b){sb(this,a,b);this.ua--;0==this.ua&&this.la&&tb(this)};function sb(a,b,c){a.la=n;a.b=c;a.ma=!b;tb(a)}function ub(a){a.la&&(a.Jb||j(new vb),a.Jb=q)}function J(a,b){ub(a);sb(a,n,b)}function M(a,b){ub(a);sb(a,q,b)}v.I=function(a,b){return this.J(a,p,b)};v.Sa=function(a,b){return this.J(p,a,b)};v.J=function(a,b,c){this.a.push([a,b,c]);this.la&&tb(this);return this};
v.Sb=function(a,b){return this.J(a,a,b)};function wb(a){return Ca(a.a,function(a){return B(a[1])})}
function tb(a){a.c&&(a.la&&wb(a))&&(w.clearTimeout(a.c),delete a.c);a.d&&(a.d.Ub--,delete a.d);for(var b=a.b,c=q,d=q;a.a.length&&0==a.ua;){var e=a.a.shift(),f=e[0],g=e[1],e=e[2];if(f=a.ma?g:f)try{var h=f.call(e||a.i,b);x(h)&&(a.ma=a.ma&&(h==b||h instanceof Error),a.b=b=h);b instanceof I&&(d=n,a.ua++)}catch(l){b=l,a.ma=n,wb(a)||(c=n)}}a.b=b;d&&a.ua&&(b.J(ja(a.wb,a,n),ja(a.wb,a,q)),b.Vb=n);c&&(a.c=w.setTimeout(function(){j(b)},0))}function xb(a){var b=new I;J(b,a);return b}
function vb(){ya.call(this)}F(vb,ya);vb.prototype.message="Deferred has already fired";vb.prototype.name="AlreadyCalledError";function N(){return new I}var yb={READ_ONLY:"readonly",READ_WRITE:"readwrite",VERSION_CHANGE:"versionchange"},zb=w.webkitIDBRequest&&"LOADING"in w.webkitIDBRequest?w.webkitIDBTransaction||w.IDBTransaction:yb,O=zb.READ_ONLY,Ab=zb.READ_WRITE,Bb=zb.VERSION_CHANGE;function Cb(a,b){return a?b?"prevunique":"prev":b?"nextunique":"next"};function R(a,b,c,d,e,f){z(a)||j(p);this.D=a;this.index=b;this.C=x(f)?f:!!z(this.index);da(this.C)||j(p);x(d)&&!da(d)&&j(p);x(e)&&!da(e)&&j(p);a="next";d&&e?a="prevunique":d?a="prev":e&&(a="nextunique");this.direction=a;this.K=ra(c);this.Ca=[];this.zb=[];this.Ab=[];this.Ya=[];this.Xa=[];this.c=0;this.v=this.b=this.a=k;this.oa=q}function Db(a,b,c){3<arguments.length&&j(p);R.call(this,a,k,b,c,k,n)}F(Db,R);function Eb(a,b,c,d,e){z(b)||j(p);R.call(this,a,b,c,d,e,n)}F(Eb,R);
function Fb(a,b,c){3<arguments.length&&j(p);R.call(this,a,k,b,c,k,q)}F(Fb,R);function Gb(a,b,c,d,e){z(b)||j(p);R.call(this,a,b,c,d,e,q)}F(Gb,R);v=R.prototype;v.lc=s("D");v.kc=s("index");v.v=k;v.oa=q;v.k=s("a");v.Bb=function(){return this.K?sa.bound(this.K.lower,this.K.upper,this.K.lowerOpen,this.K.upperOpen):p};v.C=n;v.nc=s("C");v.toJSON=function(){return{store:this.D,index:this.index,key_range:this.K?ma(this.K):p,direction:this.direction}};
v.toString=function(){return"Iterator:"+this.D+(x(this.index)?":"+this.index:"")};v.key=s("a");v.mc=s("b");v.gc=function(a,b){this.a=a;this.b=b};v.jc=s("c");v.Xb=s("v");v.stores=function(){return[this.D].concat(this.Ia)};v.Ia=[];v.ec=[];v.Tb=[];v.Lb=function(){return"prev"===this.direction||"prevunique"===this.direction};v.oc=function(){return"nextunique"===this.direction||"prevunique"===this.direction};v.Ca=[];v.zb=[];v.Ab=[];v.Ya=[];v.Xa=[];
function Hb(a){a.a=y(a.a)?Ha(a.a):a.a;a.b=y(a.b)?Ha(a.b):a.b;a.oa=q;a.v=q}
function Ib(a,b){var c;if(0<a.Ca.length){var d,e=a.v===q;e?(c=a.a,d=a.b):a.c=0;a.oa=n;var f=[],g=b.c(a.D,a.index,a.K,a.direction,a.C);g.da(c,d,e);g.n=function(b,c){x(b)?(a.v=q,a.a=b,a.b=c,h()&&l()):(a.v=n,a.oa=q)};c=function(b,c,d){h();x(c)&&(a.Ya[b]=c,a.Xa[b]=d);h()&&l()};for(d=0;d<a.Ca.length;d++)e=b.c(a.Ab[d]||a.D,a.Ca[d],a.zb[d],a.direction,n),e.da(a.Ya[d],a.Xa[d]),f.push(e),e.n=ka(c,d);var h=function(){return!f.some(function(a){return a.bb})},l=function(){for(var b=q,c=n,d=[],e=a.a,h=0;h<f.length;h++){var l=
f[h];if(l.X()){var m=S(a.a,l.k());d[h]=m;1===m?c=q:-1===m&&(c=q,b=n,1===S(l.k(),e)&&(e=l.k()))}else c=q}if(c){g.r(g.k(),g.F(),g.V());for(h=0;h<f.length;h++)f[h].forward(n)}else if(b){e!=a.a&&g.seek(e,k,n);for(h=0;h<f.length;h++)0==d[h]?f[h].seek(e):-1==d[h]?f[h].seek(e):f[h].X()?e!=f[h].k()&&f[h].seek(e):f[h].seek(e)}else{a.a!=e&&g.seek(e);for(h=0;h<f.length;h++)(!f[h].X()||0!==S(f[h].k(),e))&&f[h].seek(e)}};c=g}else{var m;(c=a.v===q)?(e=a.a,m=a.b):a.c=0;a.v=k;var u=b.c(a.D,a.index,a.K,a.direction,
a.C);u.n=function(b,c,d){x(b)?(a.a=b,a.b=c,a.c++,u.r(b,c,d)):(a.v=n,u.r(k,k,k))};u.da(e,m,c);c=u}return c}v.pc=function(){"working"==(x(this.v)?this.v===q?this.oa?"working":"resting":"completed":"initial")&&j(new T("working"));this.c=0;this.v=this.b=this.a=k};function Jb(a){Error.captureStackTrace?Error.captureStackTrace(this,Jb):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.db.InvalidKeyException"}F(Jb,Error);function Kb(a){Error.captureStackTrace?Error.captureStackTrace(this,Kb):this.stack=Error().stack||"";a&&(this.message=String(a))}F(Kb,Error);Kb.prototype.name="ydn.db.InternalError";
function Lb(a){Error.captureStackTrace?Error.captureStackTrace(this,Lb):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="InvalidStateError"}F(Lb,Error);function Nb(a){Error.captureStackTrace?Error.captureStackTrace(this,Nb):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="InvalidAccessError"}F(Nb,Error);function U(a){Error.captureStackTrace?Error.captureStackTrace(this,U):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="NotFoundError"}F(U,Error);
U.prototype.name="NotFoundError";function Ob(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Ob):this.stack=Error().stack||"";b&&(this.message=String(b));this.message+=" :"+a.message+" ["+a.code+"]";this.name="SQLError"}F(Ob,Error);function Pb(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Pb):this.stack=Error().stack||"";b&&(this.message=String(b));this.message+=" :"+a.message;this.name="SecurityError"}F(Pb,Error);
function Qb(a){Error.captureStackTrace?Error.captureStackTrace(this,Qb):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.db.SqlParseError"}F(Qb,Error);function Rb(a,b,c){var d;C(a)?(d=a.store,b=a.id,a.parent!=p&&(c=new Rb(a.parent))):x(b)?d=a:(d=a.lastIndexOf("^|"),b=a,0<d&&(b=a.substr(d),c=new Rb(a.substring(0,d))),b=b.split("^:"),d=b[0],b=b[1],x(b)||j(Error("Invalid key value: "+a)));this.a=d;this.id=b;this.b=c||p}v=Rb.prototype;v.toJSON=function(){var a={store:this.a,id:this.id};this.b&&(a.parent=this.b.toJSON());return a};v.valueOf=function(){return(this.b?this.b.valueOf()+"^|":"")+this.a+"^:"+this.id};
v.toString=function(){return this.valueOf().replace("^|","|").replace("^:",":")};v.rc=s("a");v.Yb=s("id");v.qc=s("b");function Sb(a,b){this.ca=a;this.a=b}Sb.prototype.e=p;Sb.prototype.Ja=function(a){this.e=a};function V(a){Error.captureStackTrace?Error.captureStackTrace(this,V):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.ArgumentException"}F(V,Error);function Tb(a){Error.captureStackTrace?Error.captureStackTrace(this,Tb):this.stack=Error().stack||"";a&&(this.message=String(a))}F(V,Error);Tb.prototype.name="ydn.NotSupportedException";
function Ub(a){Error.captureStackTrace?Error.captureStackTrace(this,Ub):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.NotImplementedException"}F(Ub,Error);function Vb(a){Error.captureStackTrace?Error.captureStackTrace(this,Vb):this.stack=Error().stack||"";a&&(this.message=String(a))}F(Vb,Error);Vb.prototype.name="ydn.InternalError";
function Wb(a){Error.captureStackTrace?Error.captureStackTrace(this,Wb):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.ConstrainError"}F(Wb,Error);function Xb(a){Error.captureStackTrace?Error.captureStackTrace(this,Xb):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.InvalidOperationException"}F(V,Error);
function T(a){Error.captureStackTrace?Error.captureStackTrace(this,T):this.stack=Error().stack||"";a&&(this.message=String(a));this.name="ydn.InvalidOperationError"}F(T,Error);function qa(a){if(!z(a)||/^[\s\xa0]*$/.test(a))return{};try{return JSON.parse(a)}catch(b){j(b)}};function Yb(a,b){Sb.call(this,a,b)}F(Yb,Sb);v=Yb.prototype;v.h=s("e");v.Aa=function(a,b){function c(f){var g=d.e.objectStore(b[f]).count();g.onsuccess=function(d){e[f]=d.target.result;f++;f==b.length?J(a,e):c(f)};g.onerror=function(b){M(a,b)}}var d=this,e=[];0==b.length?J(a,[]):c(0)};v.Ta=function(a,b,c,d){b=this.e.objectStore(b);c=x(d)?b.add(c,d):b.add(c);c.onsuccess=function(b){J(a,b.target.result)};c.onerror=function(b){M(a,b)}};
v.ib=function(a,b,c,d){b=this.e.objectStore(b);c=x(d)?b.put(c,d):b.put(c);c.onsuccess=function(b){J(a,b.target.result)};c.onerror=function(b){M(a,b)}};v.Ua=function(a,b,c,d){function e(b){var m;m=x(d)?h.add(c[b],d[b]):h.add(c[b]);m.onsuccess=function(d){g++;f[b]=d.target.result;g==c.length?J(a,f):(d=b+10,d<c.length&&e(d))};m.onerror=function(b){g++;M(a,b)}}var f=[],g=0,h=this.e.objectStore(b);if(0<c.length)for(b=0;10>b&&b<c.length;b++)e(b);else J(a,[])};
v.jb=function(a,b,c,d){function e(b){var m;m=x(d)?h.put(c[b],d[b]):h.put(c[b]);m.onsuccess=function(d){g++;f[b]=d.target.result;g==c.length?J(a,f):(d=b+10,d<c.length&&e(d))};m.onerror=function(b){g++;M(a,b)}}var f=[],g=0,h=this.e.objectStore(b);if(0<c.length)for(b=0;10>b&&b<c.length;b++)e(b);else J(a,[])};
v.Va=function(a,b,c){b=this.e.objectStore(b).openCursor(c);b.onsuccess=function(b){var c=b.target.result;c?(c=c["delete"](),c.onsuccess=function(){J(a,1)},c.onerror=function(){M(a,b)}):J(a,k)};b.onerror=function(b){M(a,b)}};v.ub=function(a,b,c){var d=this.e.objectStore(b);b=d.count(c);b.onsuccess=function(b){var f=b.target.result;b=d["delete"](c);b.onsuccess=function(){J(a,f)};b.onerror=function(b){M(a,b)}};b.onerror=function(b){M(a,b)}};
v.tb=function(a,b,c,d){b=this.e.objectStore(b).index(c).openCursor(d);var e=0;b.onsuccess=function(b){var c=b.target.result;c?(b=c["delete"](),b.onsuccess=function(){e++;c["continue"]()},b.onerror=function(a){j(a)}):J(a,e)};b.onerror=function(b){M(a,b)}};v.za=function(a,b){for(var c=b.length,d=0,e=0;e<c;e++){var f=this.e.objectStore(b[e]).clear();f.onsuccess=function(){d++;d==c&&J(a,d)};f.onerror=function(b){d++;d==c&&M(a,b)}}};
function Zb(a,b,c,d,e,f,g,h,l){var m=[];a=a.e.objectStore(c);f=Cb(f,l);e&&JSON.stringify(e);d=d?a.index(d).openCursor(e,f):a.openCursor(e,f);var u=q;d.onsuccess=function(a){if(a=a.target.result)if(!u&&0<h)u=n,a.advance(h);else if(m.push(a.value),m.length<g)a["continue"]();else J(b,m);else J(b,m)};d.onerror=function(a){M(b,a)}}v.pa=function(a,b,c,d,e,f){Zb(this,a,b,p,c,d,e,f)};v.fb=function(a,b,c,d,e,f,g,h){Zb(this,a,b,c,d,e,f,g,h)};
v.Db=function(a,b,c,d,e){var f=[];b=this.e.objectStore(b).openCursor(p,Cb(c));var g=q;b.onsuccess=function(b){if(b=b.target.result)if(!g&&0<e)g=n,b.advance(e);else if(f.push(b.primaryKey),f.length<d)b["continue"]();else J(a,f);else J(a,f)};b.onerror=function(b){M(a,b)}};v.Da=function(a,b,c){var d;try{d=this.e.objectStore(b)}catch(e){"NotFoundError"==e.name&&j(new U(b+" not in Tx scope: ")),j(e)}b=d.get(c);b.onsuccess=function(b){J(a,b.target.result)};b.onerror=function(b){M(a,b)}};
v.eb=function(a,b,c){function d(b){if(c[b]==p)if(f++,e[b]=k,f==h)J(a,e);else{var m=b+10;m<h&&d(m)}var u;try{u=g.get(c[b])}catch(r){"DataError"==r.name&&j(new Jb(c[b])),j(r)}u.onsuccess=function(c){f++;e[b]=c.target.result;f==h?J(a,e):(c=b+10,c<h&&d(c))};u.onerror=function(b){f++;M(a,b)}}var e=[],f=0,g=this.e.objectStore(b),h=c.length;if(0<h)for(b=0;10>b&&b<h;b++)d(b);else J(a,[])};
v.gb=function(a,b){function c(h){var g=b[h],m=d.e.objectStore(g.a),u;try{u=m.get(g.id)}catch(r){"DataError"==r.name&&j(new Jb(g+" at "+h)),j(r)}u.onsuccess=function(d){f++;e[h]=d.target.result;f==b.length?J(a,e):(d=h+10,d<b.length&&c(d))};u.onerror=function(b){f++;M(a,b)}}var d=this,e=[],f=0;if(0<b.length)for(var g=0;10>g&&g<b.length;g++)c(g);else J(a,[])};
v.ba=function(a,b,c,d){b=this.e.objectStore(b);c&&JSON.stringify(c);d!=p?(d=b.index(d),c=c!=p?d.count(c):d.count()):c=c!=p?b.count(c):b.count();c.onsuccess=function(b){J(a,b.target.result)};c.onerror=function(b){M(a,b)}};function $b(){0!=ac&&ea(this)}var ac=0;!Wa||lb();var bc=!Wa||lb(),cc=Wa&&!jb("9");!Ya||jb("528");Xa&&jb("1.9b")||Wa&&jb("8")||Va&&jb("9.5")||Ya&&jb("528");Xa&&!jb("8")||Wa&&jb("9");function dc(a,b){this.type=a;this.a=this.target=b}dc.prototype.b=q;dc.prototype.c=n;dc.prototype.$a=function(){this.c=q};function ec(a){ec[" "](a);return a}ec[" "]=aa();function fc(a,b){a&&gc(this,a,b)}F(fc,dc);v=fc.prototype;v.target=p;v.clientX=0;v.clientY=0;v.yb=p;function gc(a,b,c){var d=a.type=b.type;dc.call(a,d);a.target=b.target||b.srcElement;a.a=c;if((c=b.relatedTarget)&&Xa)try{ec(c.nodeName)}catch(e){}a.clientX=b.clientX!==k?b.clientX:b.pageX;a.clientY=b.clientY!==k?b.clientY:b.pageY;a.yb=b;b.defaultPrevented&&a.$a();delete a.b}
v.$a=function(){fc.T.$a.call(this);var a=this.yb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=q,cc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};function hc(){}var ic=0;hc.prototype.key=0;hc.prototype.ea=q;hc.prototype.a=q;hc.prototype.handleEvent=function(a){return this.b?this.qa.call(this.ab||this.src,a):this.qa.handleEvent.call(this.qa,a)};var jc={},kc={},lc={},nc={};
function oc(a,b,c,d,e){if(b)if(y(b))for(var f=0;f<b.length;f++)oc(a,b[f],c,d,e);else{d=!!d;var g=kc;b in g||(g[b]={G:0,z:0});g=g[b];d in g||(g[d]={G:0,z:0},g.G++);var g=g[d],h=ea(a),l;g.z++;if(g[h]){l=g[h];for(f=0;f<l.length;f++)if(g=l[f],g.qa==c&&g.ab==e){if(g.ea)break;return}}else l=g[h]=[],g.G++;var m=pc,u=bc?function(a){return m.call(u.src,u.key,a)}:function(a){a=m.call(u.src,u.key,a);if(!a)return a},f=u;f.src=a;var r=g=new hc;B(c)?r.b=n:c&&c.handleEvent&&B(c.handleEvent)?r.b=q:j(Error("Invalid listener argument"));
r.qa=c;r.c=f;r.src=a;r.type=b;r.capture=!!d;r.ab=e;r.a=q;r.key=++ic;r.ea=q;c=g.key;f.key=c;l.push(g);jc[c]=g;lc[h]||(lc[h]=[]);lc[h].push(g);a.addEventListener?(a==w||!a.xb)&&a.addEventListener(b,f,d):a.attachEvent(b in nc?nc[b]:nc[b]="on"+b,f)}else j(Error("Invalid event type"))}
function qc(a,b,c,d,e){if(y(b))for(var f=0;f<b.length;f++)qc(a,b[f],c,d,e);else{d=!!d;a:{f=kc;if(b in f&&(f=f[b],d in f&&(f=f[d],a=ea(a),f[a]))){a=f[a];break a}a=p}if(a)for(f=0;f<a.length;f++)if(a[f].qa==c&&a[f].capture==d&&a[f].ab==e){rc(a[f].key);break}}}
function rc(a){if(jc[a]){var b=jc[a];if(!b.ea){var c=b.src,d=b.type,e=b.c,f=b.capture;c.removeEventListener?(c==w||!c.xb)&&c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(d in nc?nc[d]:nc[d]="on"+d,e);c=ea(c);lc[c]&&(e=lc[c],Ga(e,b),0==e.length&&delete lc[c]);b.ea=n;if(b=kc[d][f][c])b.Fb=n,sc(d,f,c,b);delete jc[a]}}}
function sc(a,b,c,d){if(!d.Ha&&d.Fb){for(var e=0,f=0;e<d.length;e++)d[e].ea?d[e].c.src=p:(e!=f&&(d[f]=d[e]),f++);d.length=f;d.Fb=q;0==f&&(delete kc[a][b][c],kc[a][b].G--,0==kc[a][b].G&&(delete kc[a][b],kc[a].G--),0==kc[a].G&&delete kc[a])}}function tc(a,b,c,d,e){var f=1;b=ea(b);if(a[b]){a.z--;a=a[b];a.Ha?a.Ha++:a.Ha=1;try{for(var g=a.length,h=0;h<g;h++){var l=a[h];l&&!l.ea&&(f&=uc(l,e)!==q)}}finally{a.Ha--,sc(c,d,b,a)}}return Boolean(f)}function uc(a,b){a.a&&rc(a.key);return a.handleEvent(b)}
function pc(a,b){if(!jc[a])return n;var c=jc[a],d=c.type,e=kc;if(!(d in e))return n;var e=e[d],f,g;if(!bc){var h;if(!(h=b))a:{h=["window","event"];for(var l=w;f=h.shift();)if(l[f]!=p)l=l[f];else{h=p;break a}h=l}f=h;h=n in e;l=q in e;if(h){if(0>f.keyCode||f.returnValue!=k)return n;a:{var m=q;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(u){m=n}if(m||f.returnValue==k)f.returnValue=n}}m=new fc;gc(m,f,this);f=n;try{if(h){for(var r=[],K=m.a;K;K=K.parentNode)r.push(K);g=e[n];g.z=g.G;for(var D=r.length-
1;!m.b&&0<=D&&g.z;D--)m.a=r[D],f&=tc(g,r[D],d,n,m);if(l){g=e[q];g.z=g.G;for(D=0;!m.b&&D<r.length&&g.z;D++)m.a=r[D],f&=tc(g,r[D],d,q,m)}}else f=uc(c,m)}finally{r&&(r.length=0)}return f}d=new fc(b,this);return f=uc(c,d)};function vc(){$b.call(this)}F(vc,$b);vc.prototype.xb=n;vc.prototype.addEventListener=function(a,b,c,d){oc(this,a,b,c,d)};vc.prototype.removeEventListener=function(a,b,c,d){qc(this,a,b,c,d)};
function wc(a,b){var c=b,d=c.type||c,e=kc;if(d in e){if(z(c))c=new dc(c,a);else if(c instanceof dc)c.target=c.target||a;else{var f=c,c=new dc(d,a);Na(c,f)}var f=1,g,e=e[d],d=n in e,h;if(d){g=[];for(h=a;h;h=p)g.push(h);h=e[n];h.z=h.G;for(var l=g.length-1;!c.b&&0<=l&&h.z;l--)c.a=g[l],f&=tc(h,g[l],c.type,n,c)&&c.c!=q}if(q in e)if(h=e[q],h.z=h.G,d)for(l=0;!c.b&&l<g.length&&h.z;l++)c.a=g[l],f&=tc(h,g[l],c.type,q,c)&&c.c!=q;else for(e=a;!c.b&&e&&h.z;e=p)c.a=e,f&=tc(h,e,c.type,q,c)&&c.c!=q}};var xc=w.window||w.self;function yc(a,b,c){B(a)?c&&(a=ja(a,c)):a&&"function"==typeof a.handleEvent?a=ja(a.handleEvent,a):j(Error("Invalid listener argument"));2147483647<b||xc.setTimeout(a,b||0)};function zc(a,b){Sb.call(this,a,b)}F(zc,Sb);v=zc.prototype;v.h=s("e");v.Ta=function(a,b,c,d){b=Ac(this.h(),c,b,d);J(a,b)};v.ib=function(a,b,c,d){b=Ac(this.h(),c,b,d);J(a,b)};v.Ua=function(a,b,c,d){for(var e=[],f=0;f<c.length;f++)e[f]=Ac(this.h(),c[f],b,x(d)?d[f]:k);J(a,e)};v.jb=function(a,b,c,d){for(var e=[],f=0;f<c.length;f++)e[f]=Ac(this.h(),c[f],b,x(d)?d[f]:k);J(a,e)};v.Da=function(a,b,c){J(a,Bc(this.h(),b,c))};
v.eb=function(a,b,c){for(var d=[],e=0;e<c.length;e++){var f=Bc(this.h(),b,c[e]);d.push(f)}J(a,d)};v.gb=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=Bc(this.h(),b[d].a,b[d].id);c.push(e)}J(a,c)};v.fb=aa();v.Va=function(a,b,c){Cc(this.h(),b,c);J(a,n)};v.za=function(a,b){for(var c=0;c<b.length;c++)Cc(this.e,b[c]);J(a,n)};v.Aa=function(a,b){yc(function(){for(var c=[],d=0;d<b.length;d++){var e=this.e.Ea(b[d]);c[d]=e.length}J(a,c)},0,this)};
v.ba=function(a,b){var c="_database_"+this.ca;x(b)&&(c+="-"+b);var d=0,e;for(e in this.e)this.e.hasOwnProperty(e)&&0==e.lastIndexOf(c,0)&&d++;J(a,d)};function Dc(a,b){Sb.call(this,a,b)}F(Dc,Sb);function Ec(a,b){var c=a._default_?qa(a._default_):{};if(b.keyPath!=p){var d=Fc(a[b.keyPath],b.type);if(d!=p)for(var e=c,f=0;f<b.b.length;f++){var g=b.b[f];if(f==b.b.length-1){e[g]=d;break}x(e[g])||(e[g]={});e=e[g]}}for(d=0;d<b.indexes.length;d++)e=b.indexes[d],"_default_"!=e.name&&(f=a[e.name],f=e.multiEntry?Fc(f,[e.type]):Fc(f,e.type),x(f)&&(c[e.name]=f));return c}v=Dc.prototype;v.h=s("e");
function Gc(a,b,c,d,e,f,g,h,l,m){var u=[],r=W(a.a,d),K=e!=p;d=e||Hc(r);e=H(d);var D=Hc(r),P="*";K?P=c?H(D):e:c&&(P=H(D));m="SELECT "+(m?"DISTINCT":"")+P+" FROM "+Ic(r);K=[];f!==p&&(f=pb(d,r.type,f),m+=" WHERE "+f.sql,K=f.ta);m+=" ORDER BY "+e+" "+(g?"DESC":"ASC");A(h)&&(m+=" LIMIT "+h);A(l)&&(m+=" OFFSET "+l);a.e.executeSql(m,K,function(a,d){for(var e=0,f=d.rows.length;e<f;e++){var h=d.rows.item(e);c?u[e]=Fc(h[D],r.type):h!=p&&(u[e]=Ec(h,r))}J(b,u)},function(a,c){M(b,c);return n})}
v.Db=function(a,b,c,d,e){Gc(this,a,n,b,k,p,c,d,e,q)};v.Ta=function(a,b,c,d){Jc(this,a,n,n,b,[c],[d])};v.ib=function(a,b,c,d){Jc(this,a,q,n,b,[c],[d])};v.Ua=function(a,b,c,d){Jc(this,a,n,q,b,c,d)};
function Jc(a,b,c,d,e,f,g){function h(a,c){var e;e=x(g)?Kc(l,f[a],g[a]):Kc(l,f[a]);var Q=m+Ic(l)+" ("+e.Wb.join(", ")+") VALUES ("+e.ic.join(", ")+");";c.executeSql(Q,e.mb,function(c,g){r++;var l=x(e.key)?e.key:g.insertId;d?J(b,l):(u[a]=l,r==f.length?J(b,u):(l=a+2,l<f.length&&h(l,c)))},function(a,c){M(b,c);return n})}var l=W(a.a,e),m=c?"INSERT INTO ":"INSERT OR REPLACE INTO ",u=[],r=0;if(0<f.length)for(c=0;2>c&&c<f.length;c++)h(c,a.h());else J(b,[])}v.jb=function(a,b,c,d){Jc(this,a,q,q,b,c,d)};
v.Da=function(a,b,c){var d=W(this.a,b);b=Lc(d);c=[rb(c,d.type)];b="SELECT * FROM "+Ic(d)+" WHERE "+b+" = ?";this.e.executeSql(b,c,function(b,c){if(0<c.rows.length){var g=c.rows.item(0);g!=p?(g=Ec(g,d),J(a,g)):J(a,k)}else J(a,k)},function(b,c){M(a,c);return n})};
v.eb=function(a,b,c){function d(b,l){var m=c[b],u=Lc(g),m=[rb(m,g.type)],u="SELECT * FROM "+Ic(g)+" WHERE "+u+" = ?";l.executeSql(u,m,function(l,m){f++;if(0<m.rows.length){var u=m.rows.item(0);u!=p&&(e[b]=Ec(u,g))}else e[b]=k;f==c.length?J(a,e):(u=b+10,u<c.length&&d(u,l))},function(b,c){M(a,c);return n})}var e=[],f=0,g=W(this.a,b);if(0<c.length)for(b=0;10>b&&b<c.length;b++)d(b,this.h());else J(a,[])};v.pa=function(a,b,c,d,e,f){Gc(this,a,q,b,k,c,d,e,f,q)};
v.fb=function(a,b,c,d,e,f,g,h){Gc(this,a,q,b,c,d,e,f,g,h)};v.gb=function(a,b){function c(g,l){var m=b[g],u=W(d.a,m.a),r=y(m.id)?m.id.join("^|"):m.id,m=Lc(u),r=[r],m="SELECT * FROM "+Ic(u)+" WHERE "+m+" = ?";l.executeSql(m,r,function(d,l){f++;if(0<l.rows.length){var m=l.rows.item(0);m!=p&&(e[g]=Ec(m,u))}else e[g]=k;f==b.length?J(a,e):(m=g+10,m<b.length&&c(m,d))},function(b,c){M(a,c);return n})}var d=this,e=[],f=0;if(0<b.length)for(var g=0;10>g&&g<b.length;g++)c(g,this.h());else J(a,[])};
v.za=function(a,b){function c(e,f){var g="DELETE FROM  "+Ic(W(d.a,b[e]));f.executeSql(g,[],function(d){e==b.length-1?J(a,b.length):c(e+1,d)},function(b,c){M(a,c);return n})}var d=this;0<b.length?c(0,this.e):J(a,0)};v.Va=function(a,b,c){b=W(this.a,b);c=rb(c,b.type);b="DELETE FROM "+Ic(b)+" WHERE "+Mc(b)+" = ?";this.e.executeSql(b,[c],function(b,c){J(a,c.rowsAffected)},function(b,c){M(a,c);return n})};v.ub=function(a,b,c){Nc(this,a,b,k,c)};v.tb=function(a,b,c,d){Nc(this,a,b,c,d)};
function Nc(a,b,c,d,e){var f=W(a.a,c);c=f.type;x(d)?c=Oc(f,d).type:d=Hc(f);var f="DELETE FROM "+Ic(f),g=[];e!==p&&(d=pb(d,c,e),f+=" WHERE "+d.sql,g=d.ta);a.e.executeSql(f,g,function(a,c){J(b,c.rowsAffected)},function(a,c){M(b,c);return n})}v.Aa=function(a,b){function c(f){var g="SELECT COUNT(*) FROM "+H(b[f]);d.e.executeSql(g,[],function(d,g){var m=g.rows.item(0);e[f]=parseInt(m["COUNT(*)"],10);f++;f==b.length?J(a,e):c(f)},function(b,c){M(a,c);return n})}var d=this,e=[];0==b.length?J(a,0):c(0);return a};
v.ba=function(a,b,c,d){var e="SELECT COUNT(*) FROM "+H(b),f=[];b=W(this.a,b);d=d||Hc(b);c!==p&&(c=pb(d,b.type,c),e+=" WHERE "+c.sql,f=c.ta);this.e.executeSql(e,f,function(b,c){var d=c.rows.item(0);J(a,d["COUNT(*)"])},function(b,c){M(a,c);return n});return a};v.toString=function(){return"WebSqlEx:"+(this.ca||"")};var Pc="atomic-serial overflow-serial strict-overflow-serial atomic-parallel overflow-parallel strict-overflow-parallel open single".split(" ");/*
 _try.
*/
function Qc(a){this.a=a;this.b=[];this.L=new Rc}v=Qc.prototype;v.L=p;v.h=function(){return this.L.a&&!this.L.b?this.L.h():p};v.type=function(){return this.a.type()};v.Rb=function(){this.L.a?this.L.h().abort():j(new Lb("No active transaction"))};v.Ib=q;
v.rb=function(a,b,c,d,e){var f=a.name||"",g=b;z(b)?g=[b]:(!y(b)||0<b.length&&!z(b[0]))&&j(new V("storeNames"));var h=x(c)?c:O,l=a;if(4<arguments.length){var m=Array.prototype.slice.call(arguments,4),l=function(){var b=Array.prototype.slice.call(arguments),b=b.concat(m);return a.apply(this,b)};l.name=f}var u=this;this.L.a?this.b.push({Za:4<arguments.length?l:a,La:b,mode:h,P:d}):this.a.aa(function(a){u.Ib=n;var c=u.L,d=b,e=h;c.a=a;c.b=q;c.La=d;c.mode=e;c.P=p;l(u)},g,h,function(a,b){try{B(d)&&d(a,b)}catch(c){}finally{var e=
u.L;e.a&&(e.a=p,e.La=p,e.mode=p,B(e.P)&&e.P(a,b),e.P=p);u.Ib=q;if(0==u.a.i.length){var e=u,f=e.b.shift();f&&e.rb(f.Za,f.La,f.mode,f.P);la()}}})};v.toString=function(){return"ydn.db.tr.Serial:"+this.a.b};function Sc(a){Qc.call(this,a)}F(Sc,Qc);Sc.prototype.g=function(a,b,c,d,e){var f=this,g=this.L;f.rb(function(){f.c=n;g.a||j(new Kb("Tx not active for scope: "+d));g.b&&j(new Kb("Tx not available for scope: "+d));a(g.h());g.b=n},b,c,function(a,b){B(e)&&e(a,b)})};function Tc(a,b,c){this.c=a;this.b=b;this.a=c}Tc.prototype.i=function(){this.a.Rb()};Tc.prototype.f=function(a){this.d||(this.d=this.c.f());this.d.Ja(a);return this.d};function Uc(a,b){var c=a.c,d=b instanceof Vc?b:Wc(b),e=b.name,f=W(c.a,e);0==Xc(d,f).length?xb(q):(f=f?"update":"add",c.a instanceof Yc?(c.a.stores.push(d),c.c?(c.c.Oa(),c.c=p,Zc(c)):xb(q)):j(new Wb("Cannot "+f+" store: "+e+". Not auto schema generation mode.")))}Tc.prototype.toString=function(){return"TxStorage:"+this.c.b};function X(a,b,c){Tc.call(this,a,b,c)}F(X,Tc);v=X.prototype;
v.ga=function(a,b,c){var d=N(),e=this,f,g,h;if(x(a))if(y(a)){(x(c)||x(b))&&j(p);f=a;for(a=0;a<f.length;a++)$c(this.b,f[a])||j(new U(f[a]));this.a.g(function(a){e.f(a).Aa(d,f)},f,O,"countStores")}else z(a)?($c(this.b,a)||j(new U(a)),f=[a],z(b)?(g=b,h=ra(c)):C(b)||!x(b)?(x(c)&&j(p),h=ra(b)):j(p),this.a.g(function(a){e.f(a).ba(d,f[0],h,g)},f,O,"countKeyRange")):j(p);else{(x(c)||x(b))&&j(p);f=ad(this.b);var l=new I;this.a.g(function(a){e.f(a).Aa(d,f)},f,O,"countStores");d.J(function(a){a=a.reduce(function(a,
b){return b+a},0);J(l,a)},function(a){M(l,a)});return l}return d};
v.ha=function(a,b){var c=this,d=N();if(a instanceof Rb){var e=a.a;if(!$c(this.b,e)){if(this.b.a())return xb(k);j(p)}var f=a.id;this.a.g(function(a){c.f(a).Da(d,e,f)},[e],O,"getById")}else if(z(a)&&x(b)){if(!W(this.b,a)){if(this.b.a())return xb(k);j(p)}if(b instanceof sa||b instanceof G){var g=new I;g.J(function(a){J(d,a[0])},function(a){M(d,a)});var h=ra(b);this.a.g(function(b){c.f(b).pa(g,a,h,q,1,0)},[a],O,"getById")}else this.a.g(function(e){c.f(e).Da(d,a,b)},[a],O,"getById")}else j(p);return d};
v.keys=function(a,b,c){var d=this,e,f;if(this.b.a()&&!W(this.b,a))return xb([]);var g=new I;A(b)?e=b:(x(b)&&j(p),e=1E6);A(c)?f=c:(x(c)&&j(p),f=0);this.a.g(function(b){d.f(b).Db(g,a,q,e,f)},[a],O,"keysByStore");return g};
v.ia=function(a,b,c){var d=this,e=N(),f,g;if(z(a)){if(!W(this.b,a)){if(this.b.a())return xb([]);j(new U(a))}y(b)?this.a.g(function(c){d.f(c).eb(e,a,b)},[a],O,"listByIds"):(x(b)?A(b)?f=b:j(p):f=1E6,x(c)?A(c)?g=c:j(p):g=0,this.a.g(function(b){d.f(b).pa(e,a,p,q,f,g)},[a],O,"listByKeyRange"))}else if(y(a))if(a[0]instanceof Rb){c=[];for(var h=0;h<a.length;h++){var l=a[h].a;if(!$c(this.b,l)){if(this.b.a())return c=[],c[a.length-1]=k,xb(c);j(p)}0<=Aa(c,l)||c.push(l)}this.a.g(function(b){d.f(b).gb(e,a)},
c,O,"listByKeys")}else j(p);else j(p);return e};
v.Pa=function(a,b,c){var d=z(a)?a:C(a)?a.name:k;z(d)||j(p);var e=W(this.b,d);e?this.b.a()&&C(a)&&(a=Wc(a),(a=Xc(e,a))&&j(new Tb("schema change: "+a))):(this.b.a()||j(new U(d)),e=Wc(C(a)?a:{name:d}),Uc(this,e));var f=N(),g=this;e||j(new U(d));z(e.keyPath)&&x(c)&&j(p);e.autoIncrement&&x(c)&&j(p);!z(e.keyPath)&&(!e.autoIncrement&&!x(c))&&j(p);y(b)?(this.a.g(function(a){g.f(a).Ua(f,d,b,c)},[d],Ab,"putObjects"),e.a&&f.I(function(a){wc(g.c,new cd(dd,g.c,e.name,a,b))})):C(b)?(this.a.g(function(a){g.f(a).Ta(f,
d,b,c)},[d],Ab,"putObject"),e.a&&f.I(function(a){wc(g.c,new ed(dd,g.c,e.name,a,b))})):j(p);return f};
v.Qa=function(a,b,c){var d;d=z(a)?a:C(a)?a.name:k;z(d)||j(p);var e=W(this.b,d);e?this.b.a()&&C(a)&&(a=Wc(a),(a=Xc(e,a))&&j(new Tb("schema change: "+a))):(this.b.a()||j(new U(d)),e=Wc(C(a)?a:{name:d}),Uc(this,e));e||j(new U(d));d=e;var f=d.name,g=N(),h=this;z(d.keyPath)&&x(c)&&j(p);d.autoIncrement&&x(c)&&j(p);!z(d.keyPath)&&(!d.autoIncrement&&!x(c))&&j(p);y(b)?(this.a.g(function(a){h.f(a).jb(g,f,b,c)},[f],Ab,"putObjects"),d.a&&g.I(function(a){wc(h.c,new cd(fd,h.c,f,a,b))})):C(b)?(this.a.g(function(a){h.f(a).ib(g,
f,b,c)},[f],Ab,"putObject"),d.a&&g.I(function(a){wc(h.c,new ed(fd,h.c,f,a,b))})):j(p);return g};
v.clear=function(a,b,c){var d=N(),e=this;if(z(a)){var f=W(this.b,a);f||j(new U(a));if(x(c))if(z(b)){var g=Oc(f,b);g||j(p);if(C(c)||c===p){var h=ra(c);this.a.g(function(b){e.f(b).tb(d,a,g.name,h)},[a],Ab,"clearByIndexKeyRange")}else j(p)}else j(p);else C(b)||b===p?(h=ra(b),this.a.g(function(b){e.f(b).ub(d,a,h)},[a],Ab,"clearByKeyRange")):z(b)||A(b)||y(b)?(this.a.g(function(c){e.f(c).Va(d,a,b)},[a],Ab,"clearById"),f.a&&d.I(function(b){wc(e.c,new ed(gd,e.c,a,b,k))})):(x(b)&&j(p),this.a.g(function(b){e.f(b).za(d,
[a])},[a],Ab,"clearByStores"),f.a&&d.I(function(){wc(e.c,new cd(gd,e.c,a,p,k))}))}else if(!x(a)||y(a)&&z(a[0])){var l=a||ad(this.b);this.a.g(function(a){e.f(a).za(d,l)},l,Ab,"clearByStores");for(var m=0;m<l.length;m++)W(this.b,l[m]).a&&d.I(function(){wc(e.c,new cd(gd,e.c,l[m],p,k))})}else j(p);return d};v.toString=function(){return"DbOperator:"+this.c.b};function hd(a,b,c,d,e){"transaction"in a?(this.q=a,this.d=this.i=p):"objectStore"in a?(this.q=p,this.i=a.db,this.d=a):j(new V);this.N=b;this.b=c;this.u=e;this.na=d;this.a=[];this.c=q}hd.prototype.c=q;hd.prototype.a=[];function id(a,b){b.onsuccess=function(b){if(b=b.target.result)if(B(a.u)&&(a.na?a.u(b.primaryKey,b.key):a.u(b.primaryKey,b.value)),0<a.a.length)b["continue"](a.a.shift())};b.onerror=aa()}
hd.prototype.seek=function(a){this.a.push(a);if(!this.c){var b=this,c=function(){b.d=p},d=function(a){var c=b.a.shift();a=a.objectStore(b.N);var d=a.indexNames;x(b.b)&&d.contains(b.b)?(a=a.index(b.b),b.na?id(b,a.openKeyCursor(c)):id(b,a.openCursor(c))):!x(b.b)||b.b==a.keyPath?id(b,a.openCursor(c)):j(new Lb)};this.d?d(this.d):this.i?(this.e=this.i.transaction([this.N],O),this.e.oncomplete=function(){c()},this.e.onerror=function(){c()},this.e.onabort=function(){c()}):this.q?(this.c=n,this.q.aa(function(a){b.c=
q;d(a)},[b.N],O,c)):j(new Vb("no way to create a transaction provided."))}};function jd(a,b,c,d){this.b=b;this.c=z(c)?c:k;"transaction"in a?(this.xa=a,this.a=p):"db"in a?(this.xa=p,this.Ja(a)):j(new V);this.a=p;this.Na=z(c);this.d=d||k;this.va=[];this.lb=[];this.cb=q}v=jd.prototype;v.xa=p;v.Na=n;v.nb=p;v.lb=[];v.va=[];v.Ja=function(a){"db"in a?this.a=new hd(a,this.b,this.c,this.Na,ja(this.Wa,this)):j(new V)};function kd(a){var b=0<a.va.length;if(b&&!a.cb&&B(a.nb)){var c=function(){kd(a)},d=a.lb.shift(),e=a.va.shift(),b=0<a.va.length,c=a.nb(d,e,b?c:p);b&&!c&&kd(a)}}v.cb=q;
v.Wa=function(a,b){this.lb.push(a);this.va.push(b);kd(this)};v.push=function(a,b){this.cb&&j(new T("collecting"));if(2<=arguments.length)this.Wa(a,b);else{if(!this.a){this.xa||j(new T("No database set."));var c=this.xa.type();c?"indexeddb"===c?this.a=new hd(this.xa,this.b,this.c,this.Na,ja(this.Wa,this)):j(new Ub(c)):j(new T("Database not connected."))}this.a.seek(a)}};v.toString=function(){return"Streamer:"+this.b+(this.c||"")};function ld(a,b,c,d,e){this.Ra=a;this.m=b;this.w=c;this.s="prev"==d||"prevunique"==d;this.S=d;this.Ga=e}v=ld.prototype;v.m="";v.Ra="";v.S="";v.w=p;v.s=q;v.Ga=n;v.O=function(a){j(a)};v.n=function(a,b,c){this.r(a,b,c)};v.r=aa();v.bb=q;v.toString=function(){return ld.T.toString.call(this)};var md={};
function nd(a){a=[a];for(var b=new od,c=0,d,e;(e=a.pop())!==k;){0===c%4&&12<c+4&&(b.write(c),c=0);d=typeof e;if(e instanceof Array)if(c+=4,0<e.length){a.push(md);for(d=e.length;d--;)a.push(e[d]);continue}else b.write(c);else if("number"===d)c+=1,b.write(c),pd(b,e);else if(e instanceof Date)c+=2,b.write(c),pd(b,e.valueOf());else if("string"===d){c+=3;b.write(c);c=b;for(d=0;d<e.length;d++){var f=e.charCodeAt(d);126>=f?c.write(f+1):16510>=f?(f-=127,c.write(128|f>>8,f&255)):c.write(192|f>>10,f>>2|255,
(f|3)<<6)}c.write(0)}else if(e===md)b.write(0);else return"";c=0}return b.trim().toString()}
function pd(a,b){var c,d,e;c=b;var f=e=d=0;if(0!==c)if(isFinite(c)){0>c&&(d=1,c=-c);f=0;if(2.2250738585072014E-308<=c){for(e=c;1>e;)f--,e*=2;for(;2<=e;)f++,e/=2;e=f+1023}f=e?Math.floor(4503599627370496*(c/Math.pow(2,f)-1)):Math.floor(c/4.9E-324)}else e=2047,isNaN(c)?f=0x8000000000000:-Infinity===c&&(d=1);c=d;d=e;e=f;c&&(e=0xfffffffffffff-e,d=2047-d);a.write((c?0:128)|d>>4);a.write((d&15)<<4|0|e/281474976710656);e%=281474976710656;c=0|e/4294967296;a.write(c>>8,c&255);e%=4294967296;c=0|e/65536;a.write(c>>
8,c&255);c=e%65536;a.write(c>>8,c&255)}function qd(a){var b=a.Z()|0,c=b>>7?q:n,d=c?-1:1,e=(b&127)<<4,b=a.Z()|0,e=e+(b>>4);c&&(e=2047-e);for(var b=[c?15-(b&15):b&15],f=6;f--;)b.push(c?255-(a.Z()|0):a.Z()|0);a=0;for(f=7;f--;)a=a/256+b[f];a/=16;return 0===a&&0===e?0:(a+1)*Math.pow(2,e-1023)*d}
function rd(a){for(var b=[],c=0,d=0,e=0,f,g;;){f=a.Z();if(0===f||f==p)break;0===c?(g=f>>6,2>g&&!isNaN(f)?b.push(String.fromCharCode(f-1)):(c=g,d=f<<10,e++)):2===c?(b.push(String.fromCharCode(d+f+127)),c=d=e=0):2===e?(d+=f<<2,e++):(b.push(String.fromCharCode(d|f>>6)),c=d=e=0)}return b.join("")}function sd(a){this.a=p;var b=a.length-1,c=-1;this.Z=function(){return this.a=c<b?parseInt(a[++c]+a[++c],16):p}}
function od(){var a=[],b;this.write=function(c){for(var d=0;d<arguments.length;d++)b=arguments[d].toString(16),a.push(2===b.length?b:b="0"+b)};this.toString=function(){return a.length?a.join(""):p};this.trim=function(){for(var b=a.length;"00"===a[--b];);a.length=++b;return this}};function td(a,b,c,d,e){!x(a)&&x(e)&&(a=e);ca(a)?(a=Ba(a,function(a){return a}),x(e)||(e=a.join(", "))):z(a)||j(p);this.keyPath=a;this.name=x(e)?e:this.keyPath;this.type=ud(b);this.unique=!!c;this.multiEntry=!!d}var qb=String.fromCharCode(31);function rb(a,b){if(y(b)){var c=a==p?[""]:y(a)?a:[a],d=c[0]instanceof Date?"d":A(c[0])?"n":"t",c="d"==d?c.reduce(function(a,b){return a+ +b},""):c.join(qb);return d+qb+c+qb}if("DATE"==b){if(a instanceof Date)return+a}else return x(b)?a:"X'"+nd(a)+"'"}
function Fc(a,b){if(y(b)){if(z(a)){var c=a.split(qb),d=c[0],c=c.slice(1,c.length-1);return Ba(c,function(a){return"d"==d?new Date(parseInt(a,10)):"n"==d?parseFloat(a):a})}}else{if("DATE"==b)c=new Date(a);else if(x(b))c=a;else{for(var e=c=[],f,g=[],h,l,m=new sd(a);m.Z()!=p;)if(0===m.a)e=g.pop();else{if(m.a===p)break;do{h=m.a/4|0;f=m.a%4;for(var u=0;u<h;u++)l=[],e.push(l),g.push(e),e=l;if(0===f&&12<m.a+4)m.Z();else break}while(1);1===f?e.push(qd(m)):2===f?e.push(new Date(qd(m))):3===f?e.push(rd(m)):
0===f&&(e=g.pop())}c=c[0]}return c}}var vd=["BLOB","DATE","INTEGER","NUMERIC","TEXT"];function ud(a){if(y(a))return a.map(function(a){return ud(a)});a=Aa(vd,a);return vd[a]}td.prototype.toJSON=function(){return{name:this.name,keyPath:this.keyPath,type:this.type,unique:this.unique,multiEntry:this.multiEntry}};
function Vc(a,b,c,d,e,f,g){this.name=a;z(this.name)||j(p);this.keyPath=x(b)?b:p;this.keyPath!==p&&(!z(this.keyPath)||y(this.keyPath))&&j(p);this.autoIncrement=c;var h;x(d)&&(h=ud(d),x(h)||j(p));this.type=x(h)?h:this.autoIncrement?"INTEGER":k;this.b=z(this.keyPath)?this.keyPath.split("."):[];this.indexes=e||[];this.a=!!f;this.c=!!g}Vc.prototype.a=q;Vc.prototype.c=q;
Vc.prototype.toJSON=function(){for(var a=[],b=0;b<this.indexes.length;b++)a.push(this.indexes[b].toJSON());return{name:this.name,keyPath:this.keyPath,autoIncrement:this.autoIncrement,type:this.type,indexes:a}};function Wc(a){var b=[],c=a.indexes||[];if(y(c))for(var d=0;d<c.length;d++){var e=new td(c[d].keyPath,c[d].type,c[d].unique,c[d].multiEntry,c[d].name);x(e.keyPath)&&e.keyPath===a.keyPath||b.push(e)}return new Vc(a.name,a.keyPath,a.autoIncrement,a.type,b,a.dispatchEvents,a.fixed)}
Vc.prototype.index=function(a){return this.indexes[a]||p};function Oc(a,b){return Da(a.indexes,function(a){return a.name==b})}function wd(a,b){return b==a.keyPath?n:Ca(a.indexes,function(a){return a.name==b})}function Mc(a){return z(a.keyPath)?H(a.keyPath):k}function Lc(a){return z(a.keyPath)?H(a.keyPath):"_ROWID_"}function Hc(a){return z(a.keyPath)?a.keyPath:"_ROWID_"}function Ic(a){return H(a.name)}
function Kc(a,b,c){var d=[];c=x(c)?c:z(a.keyPath)?La(b,a.b):k;var e=[];x(c)&&(e=a.keyPath!=p?[Mc(a)]:["_ROWID_"],d=[rb(c,a.type)]);for(var f=0;f<a.indexes.length;f++){var g=a.indexes[f];if(!(g.name==a.keyPath||"_default_"==g.name)){var h=b[g.name];x(h)&&(g.multiEntry?d.push(rb(h,[g.type])):d.push(rb(h,g.type)),e.push(H(g.name)))}}if(!a.c){var f={},l;for(l in b)b.hasOwnProperty(l)&&!wd(a,l)&&(f[l]=b[l]);d.push(JSON.stringify(f));e.push("_default_")}a=[];for(f=d.length-1;0<=f;f--)a[f]="?";return{Wb:e,
ic:a,mb:d,key:c}}
function Xc(a,b){if(!b)return"missing store: "+a.name;if(a.name!=b.name)return"store name, expect: "+a.name+", but: "+b.name;if(a.keyPath!=b.keyPath)return"keyPath, expect:  "+a.keyPath+", but: "+b.keyPath;if(x(a.autoIncrement)&&x(b.autoIncrement)&&a.autoIncrement!=b.autoIncrement)return"autoIncrement, expect:  "+a.autoIncrement+", but: "+b.autoIncrement;if(a.indexes.length!=b.indexes.length)return"indexes length, expect:  "+a.indexes.length+", but: "+b.indexes.length;if(x(a.type)&&x(b.type)&&a.type!=
b.type)return"data type, expect:  "+a.type+", but: "+b.type;for(var c=0;c<a.indexes.length;c++){var d=Oc(b,a.indexes[c].name),d=!d?"no index for "+a.indexes[c].name:a.indexes[c].name!=d.name?"name, expect: "+a.indexes[c].name+", but: "+d.name:!xd(a.indexes[c].keyPath,d.keyPath)?"keyPath, expect: "+a.indexes[c].keyPath+", but: "+d.keyPath:a.indexes[c].unique!=d.unique?"unique, expect: "+a.indexes[c].unique+", but: "+d.unique:x(a.indexes[c].type)&&x(d.type)&&a.indexes[c].type!=d.type?"data type, expect: "+
a.indexes[c].type+", but: "+d.type:"";if(0<d.length)return'index "'+a.indexes[c].name+'" '+d}return""}function yd(a,b){var c,d=b;if(C(a)){c=a.version;for(var d=[],e=a.stores||[],f=0;f<e.length;f++){var g=Wc(e[f]);d.push(g)}}else z(a)?c=0==a.length?k:parseFloat(a):A(a)&&(c=a);x(c)&&((!A(c)||0>c)&&j(p),isNaN(c)&&(c=k));x(b)&&(!y(b)||0<b.length&&!(b[0]instanceof Vc))&&j(p);this.version=c;this.c=!x(this.version);this.stores=d||[]}
yd.prototype.toJSON=function(){var a=this.stores.map(function(a){return a.toJSON()});return{version:this.version,stores:a}};yd.prototype.c=q;yd.prototype.a=t(q);function ad(a){return a.stores.map(function(a){return a.name})}yd.prototype.b=function(a){return this.stores[a]||p};function W(a,b){return Da(a.stores,function(a){return a.name==b})}function $c(a,b){return Ca(a.stores,function(a){return a.name==b})}
function zd(a,b){if(!b||a.stores.length!=b.stores.length)return"Number of store: "+a.stores.length+" vs "+b.stores.length;for(var c=0;c<a.stores.length;c++){var d=W(b,a.stores[c].name),d=Xc(a.stores[c],d);if(0<d.length)return'store: "'+a.stores[c].name+'" '+d}return""};function Ad(a,b){this.j=p;this.Ma=b||18E4}
Ad.prototype.fa=function(a,b){function c(a,c){for(var d=0;d<b.stores.length;d++)Bd(a,c,b.stores[d]);for(var e=a.objectStoreNames,f=e.length,d=0;d<f;d++)$c(b,e[d])||a.deleteObjectStore(e[d])}function d(a,b){x(b)?(e.j=p,M(f,b)):(e.j=a,e.j.onabort=aa(),e.j.onerror=aa(),e.j.onversionchange=function(){e.j&&(e.j.onabort=p,e.j.onerror=p,e.j.onversionchange=p,e.j.close(),e.j=p,B(e.b))},J(f,parseFloat(g)))}var e=this,f=new I,g=k,h=b.version,l;l=x(h)?Cd.open(a,h):Cd.open(a);l.onsuccess=function(f){var h=f.target.result;
x(g)||(g=h.version);if(b.c)e.R(function(e){if(b.a())for(var f=0;f<e.stores.length;f++)if(!$c(b,e.stores[f].name)){var g=Wc(e.stores[f].toJSON());b.stores.push(g)}if(0<zd(b,e).length)if(e=A(h.version)?h.version+1:1,"IDBOpenDBRequest"in w){h.close();var l=Cd.open(a,e);l.onupgradeneeded=function(a){c(a.target.result,l.transaction)};l.onsuccess=function(a){d(a.target.result)};l.onerror=function(){d(p)}}else{var m=h.setVersion(e+"");m.a=function(a){d(p,a)};m.onsuccess=function(){m.transaction.oncomplete=
r;c(h,m.transaction)};var r=function(){var b=Cd.open(a);b.onsuccess=function(a){d(a.target.result)};b.onerror=function(){d(p)}};m.transaction!=p&&(m.transaction.oncomplete=r)}else d(h)},k,h);else if(b.version>h.version){var l=h.setVersion(b.version);l.a=function(a){d(p,a)};l.onsuccess=function(){c(h,l.transaction)}}else e.R(function(a){a=zd(b,a);0<a.length?d(p,new Wb("different schema: "+a)):d(h)},k,h)};l.onupgradeneeded=function(a){a=a.target.result;g=NaN;c(a,l.transaction)};l.onerror=function(a){d(p,
a)};l.onblocked=function(a){d(p,a)};A(this.Ma)&&yc(function(){"done"!=l.readyState&&d(p,Error("connection timeout after "+e.Ma))},this.Ma);return f};var Cd=w.indexedDB||w.mozIndexedDB||w.webkitIndexedDB||w.moz_indexedDB||w.msIndexedDB;v=Ad.prototype;v.Ma=18E4;v.type=t("indexeddb");v.pb=function(){return!!this.j};v.j=p;v.ob=function(){return this.j?parseFloat(this.j.version):k};
v.R=function(a,b,c){c=c||this.j;if(x(b)){if(b===p){if(0==c.objectStoreNames.length){a(new yd(c.version));return}j(new Vb)}c=b.db}else{b=[];for(var d=c.objectStoreNames.length-1;0<=d;d--)b[d]=c.objectStoreNames[d];if(0==b.length){a(new yd(c.version));return}b=c.transaction(b,O)}for(var e=c.objectStoreNames,f=[],g=e.length,d=0;d<g;d++){for(var h=b.objectStore(e[d]),l=[],m=0,u=h.indexNames.length;m<u;m++){var r=h.index(h.indexNames[m]);l[m]=new td(r.keyPath,k,r.unique,r.multiEntry,r.name)}f[d]=new Vc(h.name,
h.keyPath,h.autoIncrement,k,l)}b=new yd(c.version,f);a(b)};
function Bd(a,b,c){function d(){var b={autoIncrement:!!c.autoIncrement};c.keyPath!=p&&(b.keyPath=c.keyPath);try{return a.createObjectStore(c.name,b)}catch(d){j(d)}}if(a.objectStoreNames.contains(c.name))if(b=b.objectStore(c.name),(c.keyPath||"")!=(b.keyPath||""))a.deleteObjectStore(c.name),b=d();else if(da(b.autoIncrement)&&da(c.autoIncrement)&&b.autoIncrement!=c.autoIncrement)a.deleteObjectStore(c.name),b=d();else{for(var e=b.indexNames,f=0,g=0,h=0;h<c.indexes.length;h++){var l=c.indexes[h];e.contains(l.name)||
(b.createIndex(l.name,l.keyPath,{unique:l.unique}),f++)}for(h=0;h<e.length;h++)wd(c,e[h])||(b.deleteIndex(e[h]),g++)}else{b=d();for(h=0;h<c.indexes.length;h++)l=c.indexes[h],l.unique||l.multiEntry?b.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multiEntry}):b.createIndex(l.name,l.keyPath)}}
v.Ba=function(a,b,c,d){var e=this.j;if(!b){b=[];for(var f=e.objectStoreNames.length-1;0<=f;f--)b[f]=e.objectStoreNames[f]}0==b.length&&a(p);b=e.transaction(b,c);b.oncomplete=function(a){d("complete",a)};b.onerror=function(a){d("error",a)};b.onabort=function(a){d("abort",a)};a(b)};v.Oa=function(){this.j.close()};v.toString=function(){var a=this.j?this.j.name+":"+this.j.version:"";return this.type()+":"+a};function Dd(a){this.a=x(a)?a:4194304}v=Dd.prototype;
v.fa=function(a,b){function c(a,b){x(b)?(d.A=p,M(f,b)):(d.A=a,J(f,parseFloat(e)))}var d=this,e=NaN,f=new I,g=p;try{g=w.openDatabase(a,"",a,this.a)}catch(h){"SECURITY_ERR"==h.name?(g=p,this.qb=new Pb(h)):j(h)}if(g){var e=g.version,l=g,m=q,u=0;l.transaction(function(a){d.R(function(c){m=n;for(var d=0;d<b.stores.length;d++){var e=c,f=b.b(d),e=W(e,f.name);Ed(a,b.b(d),function(){u++},e)}if(b instanceof Yc)for(d=0;d<c.stores.length;d++)e=c.b(d),$c(b,e.name)||b.stores.push(e)},a,l)},function(a){j(a)},function(){m&&
c(l)})}else c(p,this.qb);return f};v.type=t("websql");v.qb=p;v.A=p;v.ob=function(){return this.A?parseFloat(this.A.version):k};
v.R=function(a,b,c){function d(a,b){j(b)}function e(b,c){if(c&&c.rows){for(var d=0;d<c.rows.length;d++){var e=c.rows.item(d);if("__WebKitDatabaseInfoTable__"!=e.name&&"sqlite_sequence"!=e.name&&"table"==e.type){for(var f=e.sql.substr(e.sql.indexOf("("),e.sql.lastIndexOf(")")).match(/(?:"[^"]*"|[^,])+/g),D=k,P,Q=[],cb=q,db=q,ib=0;ib<f.length;ib++){var na=f[ib].match(/\w+|"[^"]+"/g),L=Ba(na,function(a){return a.toUpperCase()}),na=ua(na[0],'"'),va=ud(L[1]);-1!=L.indexOf("PRIMARY")&&-1!=L.indexOf("KEY")?
(/^[\s\xa0]*$/.test(na)||(D=na),P=va,-1!=L.indexOf("AUTOINCREMENT")&&(cb=n)):"_default_"==na?db=n:(L=new td(na,va,"UNIQUE"==L[2]),Q.push(L))}e=new Vc(e.name,D,cb,P,Q,k,!db);h.push(e)}}d=new yd(g,h);a(d)}}var f=this,g=(c=c||this.A)&&c.version?parseInt(c.version,10):k,g=isNaN(g)?k:g,h=[];b?b.executeSql("SELECT * FROM sqlite_master",[],e,d):c.readTransaction(function(b){f.R(a,b,c)},function(a){j(a)},e)};
function Ed(a,b,c,d){function e(d){a.executeSql(d,[],function(){r++;r==h.length&&c(n)},function(a,c){j(new Ob(c,"Error creating table: "+b.name+" "+d))})}var f="CREATE TABLE IF NOT EXISTS "+Ic(b)+" (";Mc(b);var g=b.type||"BLOB";y(g)&&(g="TEXT");b.keyPath!=p?(f+=Mc(b)+" "+g+" UNIQUE PRIMARY KEY ",b.autoIncrement&&(f+=" AUTOINCREMENT ")):f=b.autoIncrement?f+("_ROWID_ "+g+" UNIQUE PRIMARY KEY AUTOINCREMENT "):f+("_ROWID_ "+g+" UNIQUE PRIMARY KEY ");for(var f=f+" ,_default_ BLOB",h=[],g=0;g<b.indexes.length;g++){var l=
b.indexes[g],m=l.unique?" UNIQUE ":" ";if(l.keyPath!=b.keyPath)var u=y(l.type)?"TEXT":l.type,f=f+(", "+H(l.keyPath)+" "+u+m)}h.unshift(f+");");var r=0;if(d&&0==Xc(b,d).length)c(n);else for(d=0;d<h.length;d++)e(h[d])}v.pb=function(){return!!this.A};v.Oa=aa();
v.Ba=function(a,b,c,d){function e(a){d("error",a)}function f(){d("complete",{type:"complete"})}function g(b){a(b)}this.A===p&&(a(p),d("error",this.qb));c==O?this.A.readTransaction(g,e,f):c==Bb?this.A.changeVersion(this.A.version,this.A.version+1+"",g,e,f):this.A.transaction(g,e,f)};function S(a,b){if(Cd)return Cd.cmp(a,b);a=nd(a);b=nd(b);return a>b?1:a==b?0:-1};function Fd(a,b){this.a=a||p;this.b=b;this.c=0}Fd.prototype.a=p;Fd.prototype.ya=t(q);function Gd(a,b,c){for(var d=c[0],e=1;e<c.length;e++)if(c[e]!=p){if(d!=p&&0!=S(c[e],d)){d=p;break}}else d=p;return d!=p&&(a.c++,a.a&&a.a.push(d),x(a.b)&&a.c>=a.b)?[]:b}Fd.prototype.Ka=function(){return[]};function Hd(a,b,c,d,e,f){ld.call(this,b,c,d,e,f);this.Y=a;this.index=p;c!=p&&(a.indexNames.contains(c)?this.index=a.index(c):a.keyPath!=c&&j(new Kb('index "'+c+'" not found in '+a.name)));this.H=this.B=this.l=p;this.Q=q}F(Hd,ld);v=Hd.prototype;v.Y=p;v.index=p;v.l=p;
v.fc=function(a){if(this.l=a=a.target.result){if(this.H!=p){var b=Cd.cmp(a.key,this.H);if(1===b){this.H=this.B=p;this.n(a.primaryKey,a.key,a.value);return}if(0===b)this.H=p;else{a["continue"]();return}}if(this.B!=p)if(b=Cd.cmp(this.B,a.primaryKey),0===b)this.B=p,this.Q?(this.Q=q,a["continue"]()):this.n(a.primaryKey,a.key,a.value);else if(1===b)a["continue"]();else this.B=p,this.n(a.primaryKey,a.key,a.value);else this.n(a.primaryKey,a.key,a.value)}else this.B=this.H=p,this.Q=q,this.n(k,k,k)};v.B=p;
v.H=p;v.Q=q;
v.da=function(a,b,c){this.B=a;this.H=b;this.Q=!!c;a=this.w;if(b!=p)if(this.w!=p){a=Cd.cmp(b,this.w.lower);if(this.s&&1==a){this.r(k,k,k);return}if(!this.s&&-1==a){this.r(k,k,k);return}a=sa.bound(b,this.w.upper,q,this.w.upperOpen)}else a=sa.lowerBound(b);b=this.Ga?this.index?this.S!=p?this.index.openKeyCursor(a,this.S):a!=p?this.index.openKeyCursor(a):this.index.openKeyCursor():this.S!=p?this.Y.openCursor(a,this.S):a!=p?this.Y.openCursor(a):this.Y.openCursor():this.index?this.S!=p?this.index.openCursor(a,this.S):
a!=p?this.index.openCursor(a):this.index.openCursor():this.S!=p?this.Y.openCursor(a,this.S):a!=p?this.Y.openCursor(a):this.Y.openCursor();b.onsuccess=ja(this.fc,this);b.onerror=ja(this.O,this)};v.X=function(){return!!this.l};v.F=function(){return this.l.key};v.k=function(){return this.l.primaryKey};v.V=function(){return this.l.value};v.xc=function(a){if(this.l){var b=new I;a=this.l.update(a);a.onsuccess=function(a){J(b,a)};a.onerror=function(a){M(b,a)};return b}j(new Nb("cursor gone"))};
v.clear=function(){if(this.l){var a=new I,b=this.l["delete"]();b.onsuccess=function(b){J(a,b)};b.onerror=function(b){M(a,b)};return a}j(new Nb("cursor gone"))};v.Hb=function(a,b){this.da(b,a,n)};v.advance=function(a){this.l||j(new T(this+" cursor gone."));this.B=this.H=p;this.Q=q;if(1==a)this.l["continue"]();else this.l.advance(a)};v.vb=function(a){this.l||j(new T(this+" cursor gone."));this.m?(this.H=p,this.B=a,this.Q=q,this.l["continue"]()):(this.B=this.H=p,this.Q=q,this.l["continue"](a))};
v.ka=function(a){this.l||j(new T(this+" cursor gone."));this.B=this.H=p;this.Q=q;if(a!=p)this.l["continue"](a);else this.l["continue"]()};v.toString=function(){return"IDBCursor: "+this.Ra+":"+this.m};function Id(a,b){Sb.call(this,a,b)}F(Id,Yb);Id.prototype.h=s("e");Id.prototype.d=function(a,b,c,d){var e=[],f=Ib(b,this);f.O=function(b){M(a,b)};var g=0,h=q;f.r=function(l,m){x(m)?!h&&0<d?(f.advance(d),h=n):(g++,e.push(m),!x(c)||g<c?f.ka():(Hb(b),J(a,e))):J(a,e)}};Id.prototype.b=function(a,b,c,d){var e=[],f=Ib(b,this);f.O=function(b){M(a,b)};var g=0,h=q;f.r=function(l,m,u){x(m)?!h&&0<d?(f.advance(d),h=n):(g++,e.push(b.C?l:u),!x(c)||g<c?f.ka():(Hb(b),J(a,e))):J(a,e)}};
Id.prototype.c=function(a,b,c,d,e){var f=this.h().objectStore(a);return new Hd(f,a,b,c,d,e)};function Jd(a,b,c,d,e,f,g){ld.call(this,c,d,e,f,g);this.e=a;this.a=b;this.t=p;this.p=NaN}F(Jd,ld);v=Jd.prototype;v.t=p;v.p=NaN;
v.da=function(a,b,c){var d=this.w;if(this.m&&b!=p)if(this.w!=p){var e=Cd.cmp(b,this.w.upper);if(1==e||0==e&&!this.w.upperOpen){this.r(k,k,k);return}d=sa.bound(b,this.w.upper,q,this.w.upperOpen)}else d=sa.lowerBound(b);var f=this;b=["SELECT"];var e=[],g=Hc(this.a),h=this.m?Oc(this.a,this.m):p,l=h?h.type:this.a.type,m=this.m?this.m:g,h=H(m),g=H(g);b.push(this.Ga?h+", "+g:"*");b.push("FROM "+H(this.Ra));d=pb(m,l,d);d.sql&&(b.push("WHERE "+d.sql),e=e.concat(d.ta));d=" ORDER BY ";d=h!=g?this.s?d+h:d+(h+
", "+g):d+g;d+=this.s?" DESC":" ASC";b.push(d);this.bb=n;this.e.executeSql(b.join(" "),e,function(b,d){f.bb=q;f.t=d;f.p=0;if(f.m&&a!=p)for(var e=S(f.k(),a);-1==e||0==e&&c;)f.p++,e=S(f.k(),a);f.n(f.k(),f.F(),f.V())},function(a,b){f.O(b);return n})};v.X=function(){return!!this.t&&this.p<this.t.rows.length};v.F=function(){if(this.m&&this.p<this.t.rows.length){var a=this.t.rows.item(this.p),b=Oc(this.a,this.m);return Fc(a[this.m],b.type)}};
v.k=function(){if(this.p<this.t.rows.length){var a=Hc(this.a),b=this.t.rows.item(this.p);return Fc(b[a],this.a.type)}};v.V=function(){if(this.p<this.t.rows.length&&!this.Ga&&!this.m){var a=this.t.rows.item(this.p);return Ec(a,this.a)}};v.Hb=function(a,b){this.da(b,a,n)};v.advance=function(a){this.X()||j(new T(this+" cursor gone."));for(var b=this.t.rows.length,c=0;c<a;c++)if(this.p++,c==a-1||this.p==b-1){this.n(this.k(),this.F(),this.V());return}this.n(k,k,k)};
v.vb=function(a){this.X()||j(new T(this+" cursor gone."));var b=S(a,this.k());(0==b||1==b&&this.s||-1==b&&!this.s)&&j(new T(this+" wrong direction."));for(var c=this.F(),d=this.t.rows.length,e=0;e<d;e++){if(0==b||1==b&&this.s||-1==b&&!this.s){this.n(this.k(),this.F(),this.V());return}this.p++;if(c&&c!=this.F()){this.n(this.k(),this.F(),this.V());return}b=S(a,this.k())}this.n(k,k,k)};
v.ka=function(a){this.X()||j(new T(this+" cursor gone."));var b=S(a,this.m?this.F():this.k());(0==b||1==b&&this.s||-1==b&&!this.s)&&j(new T(this+" wrong direction."));for(var c=this.t.rows.length,d=0;d<c;d++){if(0==b||1==b&&this.s||-1==b&&!this.s){this.n(this.k(),this.F(),this.V());return}this.p++;b=S(a,this.m?this.F():this.k())}this.n(k,k,k)};v.toString=function(){return"WebsqlCursor: "+this.Ra+":"+this.m};function Kd(a,b){Sb.call(this,a,b)}F(Kd,Dc);Kd.prototype.d=function(a,b,c,d){Ld(this,a,b,n,c,d)};Kd.prototype.b=function(a,b,c,d){Ld(this,a,b,q,c,d)};
function Ld(a,b,c,d,e,f){var g=W(a.a,c.D),h=c.index,l=x(h)?Oc(g,h):p,m=l?l.keyPath:g.keyPath!=p?g.keyPath:"_ROWID_",h=H(m),u=l?l.type:g.type,l="*";d?l=h:c.C&&(l=Lc(g));var r=l+" FROM "+Ic(g),K="",l=[],m=pb(m,u,c.Bb());m.sql&&(K="WHERE "+m.sql,l=m.ta);m="ASC";c.Lb()&&(m="DESC");var D="";x(e)&&(D=" LIMIT "+e);x(f)&&(D+=" OFFSET "+f);e=["SELECT",r,K,"","ORDER BY "+h,m,D].join(" ");var P;P=d||c.C?function(a){return Fc(Md(a),u)}:function(a){return Ec(a,g)};a.e.executeSql(e,l,function(a,c){for(var d=[],
e=c.rows.length,f=0;f<e;f++){var g=c.rows.item(f);d.push(P(g))}J(b,d)},function(a,c){M(b,c);return n})}Kd.prototype.c=function(a,b,c,d,e){var f=W(this.a,a);return new Jd(this.h(),f,a,b,c,d,e)};function Nd(a,b){Sb.call(this,a,b)}F(Nd,zc);function Y(a,b,c){Tc.call(this,a,b,c)}F(Y,X);v=Y.prototype;v.ha=function(a,b){var c=this;if(a instanceof R){var d=N(),e=a.D,f=W(this.b,e);f||j(new V('store "'+e+'" not found.'));var g=a.index;x(g)&&!wd(f,g)&&j(new V('index "'+g+'" not found in store "'+e+'".'));var h=new I;h.J(function(a){J(d,a[0])},function(a){M(d,a)});this.a.g(function(b){c.f(b).b(h,a,1,0)},[e],O,"getByIterator");return d}return Y.T.ha.call(this,a,b)};
v.keys=function(a,b,c){var d=this;if(a instanceof R){var e=N(),f=1E6;A(b)?(f=b,1>f&&j(new V("limit must be a positive value"))):x(b)&&j(new V("limit"));var g=0;A(c)?g=c:x(c)&&j(new V("offset"));this.a.g(function(b){d.f(b).d(e,a,f,g)},a.stores(),O,"listByIterator");return e}return Y.T.keys.call(this,a,b,c)};
v.ga=function(a,b,c){var d=this;if(a instanceof R){(x(b)||x(c))&&j(new V("too many arguments."));var e=N();this.a.g(function(b){d.f(b).ba(e,a.D,a.K,a.index)},a.stores(),O,"countByIterator");return e}return Y.T.ga.call(this,a,b,c)};
v.ia=function(a,b,c){var d=this;if(a instanceof R){var e=N(),f;A(b)?(f=b,1>f&&j(new V("limit must be a positive value"))):x(b)&&j(new V("limit"));var g;A(c)?g=c:x(c)&&j(new V("offset"));this.a.g(function(b){d.f(b).b(e,a,f,g)},a.stores(),O,"listByIterator");return e}return Y.T.ia.call(this,a,b,c)};
v.Ob=function(a,b,c){var d=N();(!y(a)||!(a[0]instanceof R))&&j(new V);for(var e=[],f=0;f<a.length;f++)for(var g=a[f].stores(),h=0;h<g.length;h++)0<=Aa(e,g[h])||e.push(g[h]);for(var l=c||[],f=0;f<l.length;f++)c=l[f].b,0<=Aa(e,c)||e.push(c);var m=this;this.a.g(function(c){function e(){for(var b=0,d=0;d<a.length;d++){var l=a[d],r=Ib(l,m.f(c));r.O=f;r.r=ka(g,b);mc[d]=r;na[b]=d;b++;for(var r=0,L=l.Ia.length+1-1;r<L;r++){var Mb;Mb=m.f(c);Mb=new jd(Mb.h(),l.Ia[r],l.Tb[r],l.ec[r]);var Q=ka(h,b);Mb.nb=Q;nb.push(Mb);
ib[b]=nb.length;b++}}db=a.length+nb.length}function f(a){Fa(mc);Fa(nb);M(d,a)}function g(b,c,d,e){cb&&j(new Vb);ob++;var f=a[na[b]];z(f.index)?f.C?(L[b]=d,va[b]=c):(L[b]=d,va[b]=e):f.C?(L[b]=c,va[b]=c):(L[b]=c,va[b]=e);b=ib[b];c=0;for(f=f.Ia.length+1-1;c<f;c++){var h=nb[b+c],l=d,m=e;x(h.d)?h.Na?h.push(m):m!=p?h.push(m[h.d]):h.push(k,k):h.push(l)}ob===db&&Q()}function h(a,b,c){cb&&j(new Vb);L[a]=b;va[a]=c;ob++;ob===db&&Q();return q}function Q(){var c;c=b instanceof Fd?b.Ka(L,va):b(L,va);var e=[],f=
[],g=[],h=[];if(y(c))for(var l=0;l<c.length;l++)c[l]===n?g[l]=1:c[l]===q?h[l]=n:f[l]=c[l];else if(c===p)e=[];else if(x(c))C(c)?(e=c.continuePrimary||[],f=c["continue"]||[],g=c.advance||[],h=c.restart||[]):j(new Xb("scan callback output"));else{e=[];for(l=0;l<a.length;l++)x(na[l])&&(g[l]=1)}for(l=ob=c=0;l<a.length;l++)e[l]==p&&(f[l]==p&&h[l]==p&&g[l]==p)&&ob++;for(l=0;l<a.length;l++)if(e[l]!=p||f[l]!=p||h[l]!=p||g[l]!=p){var m=na[l];x(m)||j(new Xb(l+" is not an iterator."));var m=a[m],r=mc[l];L[l]==
p&&(g[l]===n||f[l]!=p||e[l]!=p)&&j(new T(m+" at "+l+" must not advance."));L[l]=k;va[l]=k;h[l]!=p?r.Hb():f[l]!=p?r.ka(f[l]):e[l]!=p?r.vb(e[l]):g[l]!=p?r.advance(1):j(new Vb(m+": has no action"));c++}if(0==c){for(e=0;e<a.length;e++)Hb(a[e]);cb=n;Fa(mc);Fa(nb);J(d)}}for(var cb=q,db,ib=[],na=[],L=[],va=[],mc=[],nb=[],ob=0,bd=0;bd<l.length;bd++)l[bd].Ja(this.h());b instanceof Fd?b.ya(a,function(){e()})||e():e()},e,O,"join");return d};
v.ja=function(a,b,c){a instanceof R||j(new V);W(this.b,a.D)||j(new V('Store "'+a.D+'" not found.'));c=c||O;var d=this,e=N();this.a.g(function(c){var g=Ib(a,d.f(c));g.O=function(a){M(e,a)};g.r=function(a){a!=p?(b(g),g.forward(n)):J(e)}},a.stores(),c,"open");return e};
v.map=function(a,b){for(var c=this,d=a.stores(),e,f=0;e=d[f];f++)e||j(new V('Store "'+e+'" not found.'));var g=N();this.a.g(function(d){var e=Ib(a,c.f(d));e.O=function(a){M(g,a)};e.r=function(c,d,f){c!=p?(c=b(a.C?z(a.index)?d:c:z(a.index)?c:f),x(c)?(da(c)&&j(new TypeError),c===p?J(g,k):e.ka(c)):e.advance(1)):J(g,k)}},d,O,"map");return g};
v.reduce=function(a,b,c){for(var d=this,e=a.stores(),f,g=0;f=e[g];g++)f||j(new V('Store "'+f+'" not found.'));var h=N(),l=C(c)?qa(JSON.stringify(c)):c;this.a.g(function(c){var e=Ib(a,d.f(c));e.O=function(a){M(h,a)};var f=0;e.r=function(c,d,g){c!=p?(l=b(l,a.C?z(a.index)?d:c:z(a.index)?c:g,f++),e.advance(1)):J(h,l)}},e,O,"map");return h};function xd(a,b){var c;c=c||{};if(a==p||b==p)return q;if(y(a)&&y(b)){if(a.length!=b.length)return q;for(var d=0;d<a.length;d++)if(-1==Da(b,function(b){return xd(b,a[d])}))return q;return n}if(y(a))return 1==a.length&&xd(a[0],b);if(y(b))return 1==b.length&&xd(b[0],a);if(C(a)&&C(a)){for(var e in a)if(a.hasOwnProperty(e)&&!c[e]){var f=xd(a[e],b[e]);if(!f)return q}for(e in b)if(b.hasOwnProperty(e)&&!c[e]&&(f=xd(a[e],b[e]),!f))return q;return n}return a===b}
function Md(a){for(var b in a)if(a.hasOwnProperty(b))return a[b]};function Od(a){this.a=a}Od.prototype.a=[];
Od.prototype.b=function(a,b){for(var c=[],d=0;d<this.a.length;d++){var e=this.a[d],f="'"===e[0]&&"'"===e[e.length-1];if('"'===e[0]&&'"'===e[e.length-1])e=La(a,ua(e,'"').split(".")),c.push(e);else if(f)c.push(ua(e,"'"));else if(z(e))if("true"===e)c.push(n);else if("false"===e)c.push(q);else if("Date"===e)c.push(new Date(parseInt(c.pop(),10)));else if("now"===e)c.push(new Date);else if("!"===e)c[c.length-1]=!c[c.length-1];else if("=="===e)c.push(c.pop()==c.pop());else if("==="===e)c.push(c.pop()===
c.pop());else if("!="===e)c.push(c.pop()!=c.pop());else if("!=="===e)c.push(c.pop()!==c.pop());else if("<="===e)c.push(c.pop()<=c.pop());else if("<"===e)c.push(c.pop()<c.pop());else if(">="===e)c.push(c.pop()>=c.pop());else if(">"===e)c.push(c.pop()>c.pop());else if("&"===e)c.push(c.pop()&c.pop());else if("|"===e)c.push(c.pop()|c.pop());else if("?"===e){var e=!!c.pop(),f=c.pop(),g=c.pop(),e=e?f:g;c.push(e)}else"+"===e?c.push(c.pop()+c.pop()):"-"===e?c.push(c.pop()-c.pop()):"*"===e?c.push(c.pop()*
c.pop()):"/"===e?c.push(c.pop()/c.pop()):"%"===e?c.push(c.pop()%c.pop()):"at"===e?(f=c.pop(),e=c.pop(),c.push(e[f])):"of"===e?(f=c.pop(),e=c.pop(),e=y(e)?e.indexOf(f):-1,c.push(e)):"in"===e?(f=c.pop(),e=c.pop(),e=y(e)?0<=e.indexOf(f):q,c.push(e)):"abs"===e?c[c.length-1]=Math.abs(c[c.length-1]):"$"==e[0]&&/^\$\d$/.test(e)?(e=parseInt(e.match(/^\$(\d)$/)[1],10),c.push(arguments[e])):c.push(parseFloat(e));else c.push(e)}return c[0]};
Od.prototype.c=function(){return function(){var a=2<arguments.length?Array.prototype.slice(arguments,2):k;return Od.prototype.b.apply(p,a)}};Od.prototype.toJSON=function(){return{Tokens:qa(JSON.stringify(this.a))}};function Pd(a){z(a)||j(new V);this.M=a;Qd(this,a);this.wa=""}v=Pd.prototype;v.M="";v.ra=O;v.Eb=NaN;v.Gb=NaN;v.kb=q;v.wa="";
function Qd(a,b){var c=b.split(/\sFROM\s/i);2!=c.length&&j(new Qb("FROM required."));var d=c[1],c=c[0].match(/\s*?(SELECT|INSERT|UPDATE|DELETE)\s+(.*)/i);3!=c.length&&j(new Qb("Unable to parse: "+b));a.c=c[1].toUpperCase();"SELECT"==a.c?a.ra=O:"INSERT"==a.c?a.ra=Ab:"UPDATE"==a.c?a.ra=Ab:"DELETE"==a.c?a.ra=Ab:j(new Qb("Unknown SQL verb: "+a.c));var c=c[2].trim(),e=c.match(/^(MIN|MAX|COUNT|AVG|SUM)/i);e?(a.d=e[0].toUpperCase(),c=c.replace(/^(MIN|MAX|COUNT|AVG|SUM)/i,"").trim()):a.d=k;"("==c.charAt(0)&&
(")"==c.charAt(c.length-1)?c=c.substring(1,c.length-1):new Qb("missing closing parentheses"));a.u=c;c=d.search(/(ORDER BY|LIMIT|OFFSET)/i);0<c?(a.a=d.substring(c),d=d.substring(0,c)):a.a="";c=d.search(/WHERE/i);0<c?(a.i=d.substring(c+6).trim(),d=d.substring(0,c)):a.i="";a.b=d.trim().split(",").map(function(a){a=ua(a,'"');a=ua(a,"'");return a.trim()})}
v.parse=function(a){if(a){for(var b=0;b<a.length;b++)this.M=this.M.replace("?",a[b]);Qd(this,this.M)}this.q=Rd(this);if(!this.q)return this.wa;a=this.a.length;if(b=/OFFSET\s+(\d+)/i.exec(this.a))this.Gb=parseInt(b[1],10),a=this.a.search(/OFFSET/i);if(b=/LIMIT\s+(\d+)/i.exec(this.a))this.Eb=parseInt(b[1],10),b=this.a.search(/LIMIT/i),b<a&&(a=b);(a=/ORDER BY\s+(.+)/i.exec(this.a.substr(0,a)))?(a=a[1].trim(),(b=a.match(/(ASC|DESC)/i))?(this.kb="DESC"==b[0].toUpperCase(),a=a.replace(/\s+(ASC|DESC)/i,
"")):this.kb=q,this.N=ua(ua(a,'"'),"'")):this.N=k;return""};function Sd(a){if("*"==a.u)return p;a=a.u.split(",");return a=a.map(function(a){return a.trim()})}v.toJSON=function(){return{sql:this.M}};
function Rd(a){function b(a){return Ea(c,function(b){return b.U==a})}var c=[],d=/(.+?)(<=|>=|=|>|<)(.+)/i;if(0<a.i.length)for(var e=a.i.split("AND"),f=0;f<e.length;f++){var g=e[f],h=d.exec(g);if(h){var l=h[1].trim(),l=ua(l,'"'),l=ua(l,"'");if(0<l.length){var m=h[3].trim(),m=0==m.lastIndexOf('"',0)?ua(m,'"'):0==m.lastIndexOf("'",0)?ua(m,"'"):parseFloat(m),h=new mb(l,h[2],m),l=b(l);if(0<=l){var m=c,u=l;var r=c[l];if(r.U!=h.U)h=p;else{var K=k,D=k,P=k,Q=k;r.lower!=p&&h.lower!=p?r.lower>h.lower?(K=r.lower,
P=r.lowerOpen):r.lower==h.lower?(K=r.lower,P=r.lowerOpen||h.lowerOpen):(K=h.lower,P=h.lowerOpen):r.lower!=p?(K=r.lower,P=r.lowerOpen):h.lower!=p&&(K=h.lower,P=h.lowerOpen);r.upper!=p&&h.upper!=p?r.lower>h.upper?(D=r.upper,Q=r.upperOpen):r.lower==h.lower?(D=r.upper,Q=r.upperOpen||h.upperOpen):(D=h.upper,Q=h.upperOpen):r.upper!=p?(D=r.upper,Q=r.upperOpen):h.upper!=p&&(D=h.upper,Q=h.upperOpen);h=new mb(r.U,{lower:K,upper:D,lowerOpen:P,upperOpen:Q})}m[u]=h;if(!c[l])return a.wa='where clause "'+g+'" conflict',
p}else c.push(h)}else return a.wa='Invalid clause "'+g+'"',p}else return a.wa='Invalid clause "'+g+'"',p}return c}v.toString=function(){return Pd.T.toString.call(this)};function Td(a,b){this.sql=b;this.a=a}Td.prototype.toJSON=function(){return{sql:this.sql}};Td.prototype.toString=t("idb.Node:");
Td.prototype.Pb=function(a,b){var c=Ha(this.sql.b)[0],d=this.sql.q,e=this.sql.Eb,e=isNaN(e)?1E6:e,f=this.sql.Gb,f=isNaN(f)?0:f,g=this.sql.N,h=Sd(this.sql),l=p,m=this.sql.kb;0==d.length?l=p:1==d.length?l=ra(d[0]):j(new Tb("too many conditions."));h===p||0==h.length?g!=p&&g!=this.a.keyPath?(c=new Gb(c,g,l,m),b.b(a,c,e,f)):l?b.fb(a,c,d[0].U,l,m,e,f,q):b.pa(a,c,l,m,e,f):1==h.length?g!=p&&g!=h[0]?(d=new I,c=new Gb(c,g,l,m),b.b(d,c,e,f),d.J(function(b){b=b.map(function(a){return La(a,h[0])});J(a,b)},function(b){M(a,
b)})):(c=new Eb(c,h[0],l,m),b.b(a,c,e,f)):(d=new I,b.pa(d,c,l,m,e,f),d.J(function(a){a.map(function(a){for(var b={},c=0;c<h.length;c++)b[h[c]]=La(a,h[c]);return b})},function(b){M(a,b)}))};function Ud(a,b){Td.call(this,a,b)}F(Ud,Td);
Ud.prototype.Pb=function(a,b){var c,d=Ha(this.sql.b)[0],e=this.sql.q,f=p;0==e.length?f=p:1==e.length?f=ra(e[0]):j(new Tb("too many conditions."));var g=this.sql.d;if("COUNT"==g)f?b.ba(a,d,f,e[0].U):b.ba(a,d,p);else{var h,l=Sd(this.sql);(!l||0==l.length)&&j(new T("field name require for reduce operation: "+g));var m=l[0];"MIN"==g?h=function(a,b){var c=a[m];return!x(b)?c:b<c?b:c}:"MAX"==g?h=function(a,b){var c=a[m];return!x(b)?c:b>c?b:c}:"AVG"==g?(c=0,h=function(a,b,c){x(b)||(b=0);return(b*c+a[m])/
(c+1)}):"SUM"==g?(c=0,h=function(a,b){return b+a[m]}):j(new Tb(g));var u=Ib(f?new Gb(d,e[0].U,f):new Fb(d),b);u.O=function(b){M(a,b)};var r=0;u.r=function(b,d,e){x(d)?(c=h(e,c,r),u.advance(1),r++):J(a,c)}}};function Vd(a,b){Sb.call(this,a,b)}F(Vd,Id);Vd.prototype.executeSql=function(a,b,c){(c=b.parse(c))&&j(new Qb(c));c=Ha(b.b);if(1==c.length){var d=W(this.a,c[0]);d||j(new U(c[0]));var e=Sd(b);if(e)for(var f=0;f<e.length;f++)wd(d,e[f])||j(new U('Index "'+e[f]+'" not found in '+c[0]));(b.d?new Ud(d,b):new Td(d,b)).Pb(a,this)}else j(new Tb(b.M))};function Wd(a,b){this.sql=b;this.b=a;this.a=Sd(b)}Wd.prototype.toJSON=function(){return{sql:this.sql.M}};Wd.prototype.toString=t("websql.Node:");function Xd(a,b){if(a.a){if(1==a.a.length){if(C(b))return La(b,a.a[0]);return}for(var c={},d=0;d<a.a.length;d++)c[a.a[d]]=La(b,a.a[d]);return c}return Ec(b,a.b)}
Wd.prototype.Qb=function(a,b,c){var d=this,e=[];b.executeSql(this.sql.M,c,function(b,c){for(var h=c.rows.length,l=0;l<h;l++){var m=c.rows.item(l);if(C(m))var u=Xd(d,m);e.push(u)}J(a,e)},function(b,c){M(a,c);return n})};function Yd(a,b){Wd.call(this,a,b)}F(Yd,Wd);Yd.prototype.Qb=function(a,b,c){b.executeSql(this.sql.M,c,function(b,c){var f=c.rows.length;1==f?(f=Md(c.rows.item(0)),J(a,f)):0==f?J(a,k):j(new Kb)},function(b,c){M(a,c);return n})};function Zd(a,b){Sb.call(this,a,b)}F(Zd,Kd);Zd.prototype.executeSql=function(a,b,c){var d=Ha(b.b);if(1==d.length){var e=W(this.a,d[0]);e||j(new U(d[0]));var f=Sd(b);if(f)for(var g=0;g<f.length;g++)wd(e,f[g])||j(new U('Index "'+f[g]+'" not found in '+d[0]));(b.d?new Yd(e,b):new Wd(e,b)).Qb(a,this.e,c)}else j(new Tb(b.M))};function $d(a,b){Sb.call(this,a,b)}F($d,Nd);function ae(a,b,c){Tc.call(this,a,b,c)}F(ae,Y);ae.prototype.executeSql=function(a,b){for(var c=N(),d=new Pd(a),e=Ha(d.b),f=0;f<e.length;f++){var g=W(this.b,e[f]);g||j(new V("store: "+g+" not exists."))}var h=this;this.a.g(function(a){h.f(a).executeSql(c,d,b||[])},Ha(d.b),d.ra,"executeSql");return c};function be(){this.clear()}v=be.prototype;v.setItem=function(a,b){x(this.a[a])||(this.keys.push(a.toString()),this.length=this.keys.length);this.a[a]=b};v.getItem=function(a){return this.a[a]||p};v.removeItem=function(a){delete this.a[a];Ga(this.keys,a.toString());this.length=this.keys.length};v.length=0;v.key=function(a){a=this.keys[a];return x(a)?this.a[a]:p};v.clear=function(){this.a={};this.keys=[];this.length=0};function ce(a){this.o=a||new be}v=ce.prototype;v.ob=t(1);v.fa=function(a,b){this.ca=a;this.c=b;this.a={};for(var c=0;c<b.stores.length;c++){var d=b.b(c);this.a[d.name]=d.toJSON()}this.indexes={};d=de(this);c=qa(this.o.getItem(d));ad(b);if(c)for(var e in c)c.hasOwnProperty(e)&&!$c(b,e)&&(d=c[e],b.a()?this.a[e]=d:Cc(this,e));else this.o.setItem(d,JSON.stringify(this.a));return xb(1)};v.pb=function(){return!!this.ca};v.type=t("memory");v.Oa=aa();v.Ba=function(a,b,c,d){a(this);d("complete",{})};
v.R=function(a){yc(function(){for(var b=[],c=this.o.getItem(de(this)).stores,d=0;d<c.length;d++){var e=this.o.getItem(de(this,c[d]));b[d]=new Vc(c[d],e.keyPath,e.autoIncrement)}b=new yd(this.ca,b);a(b)},0,this)};function de(a,b,c){a=["ydn.db",a.ca];x(b)&&(a.push(b),x(c)&&a.push(nd(c)));return a.join("^|")}function Bc(a,b,c){b=de(a,b instanceof Vc?b.name:b,c);a=a.o.getItem(b);return a=a===p?k:qa(a)}
function Ac(a,b,c,d){var e;e=W(a.c,c);d=x(d)?d:e.keyPath!=p?La(b,e.b):k;x(d)||(e.autoIncrement?(de(a,e.name),d=a.a[e.name],x(d.autoIncrementNo)||(d.autoIncrementNo=a.Ea(e.name,p).length),d.autoIncrementNo++,d=d.autoIncrementNo):j(new Jb));e=d;d=de(a,c,e);b=JSON.stringify(b);a.o.setItem(d,b);if(a=a.a[c].Keys){c=0;for(b=a.length;c<b&&e!=a[c];c++)if(e>a[c]){Ia(a,c,0,e);break}}return e}
function Cc(a,b,c){if(x(c))a.o.removeItem(de(a,b,c)),a=a.a[b].Keys,x(a)&&Ga(a,c);else if(x(b)){a.a[b]&&(a.a[b].Keys=p);c=de(a,b)+"^|";for(b=a.o.length-1;0<=b;b--){var d=a.o.key(b);0==d.lastIndexOf(c,0)&&a.o.removeItem(d)}}else{c=de(a)+"^|";for(b=a.o.length-1;0<=b;b--)d=a.o.key(b),0==d.lastIndexOf(c,0)&&a.o.removeItem(d)}}
v.index=function(a){var b=this.a[a],c=b.Keys;if(c==p){c=[];a=de(this,a);a+="^|";for(var d=0,e=this.o.length;d<e;d++){var f=this.o.key(d);if(0==f.lastIndexOf(a,0)){c.push(f);for(var f=0,g=b.indexes.length;f<g;f++);}}za.sort.call(c,Ka);b.Keys=c;b.indexes={}}return c};
v.Ea=function(a,b,c,d,e,f){function g(){return e?function(a){return a>c}:function(a){return a>=c}}function h(){return f?function(a){return a<=d}:function(a){return a<d}}b!=p&&j(new Ub);a=this.index(a);if(!x(c)&&!x(d))return a;if(x(c)){if(x(d)){b=Ea(a,h());var l=Ea(a,g());return a.slice(b,l)}b=Ea(a,g());return a.slice(b)}b=Ea(a,h());return a.slice(0,b)};function ee(){ce.call(this,window.localStorage)}F(ee,ce);ee.prototype.type=t("localstorage");function fe(){ce.call(this,window.sessionStorage)}F(fe,ce);fe.prototype.type=t("sessionstorage");var dd="created",gd="deleted",fd="updated";function ge(a,b){dc.call(this,a,b)}F(ge,dc);ge.prototype.q=s("d");function he(a,b,c,d){dc.call(this,a,b);this.version=c;this.Nb=d}F(he,ge);v=he.prototype;v.name="StorageEvent";v.version=NaN;v.Nb=NaN;v.uc=s("version");v.Zb=s("Nb");function ed(a,b,c,d,e){dc.call(this,a,b);this.d=c;this.key=d;this.value=e}F(ed,ge);ed.prototype.name="RecordEvent";ed.prototype.i=s("key");ed.prototype.u=s("value");
function cd(a,b,c,d,e){dc.call(this,a,b);this.d=c;this.keys=d;this.mb=e}F(cd,ge);cd.prototype.name="StoreEvent";cd.prototype.Ea=s("keys");cd.prototype.i=s("mb");function Yc(a,b){yd.call(this,a,b)}F(Yc,yd);Yc.prototype.a=t(n);/*
 Copyright 2012 YDN Authors, Yathit. All Rights Reserved.
*/
function Z(a,b,c){$b.call(this);c=c||{};this.$b=c.mechanisms||ie;this.ac=c.size;this.Kb=x(c.Kb)?c.Kb:q;this.c=p;this.i=[];this.Fa=q;this.a=b instanceof yd?b:C(b)?c.autoSchema||!x(b.stores)?new Yc(b):new yd(b):new Yc;x(a)&&this.N(a)}F(Z,vc);Z.prototype.cc=function(a){if(x(a)){var b=function(b){a(b.toJSON())};if(this.c)this.c.R(b);else{var c=this;this.aa(function(a){c.c.R(b,a)},p,O)}}return this.a?this.a.toJSON():p};
Z.prototype.N=function(a){this.c&&j(Error("Already defined with "+this.b));this.b=a;Zc(this)};Z.prototype.bc=s("b");var ie=["indexeddb","websql","localstorage","sessionstorage","memory"];function je(a,b){return"indexeddb"==b?new Ad:"websql"==b?new Dd(a.ac):"localstorage"==b?new ee:"sessionstorage"==b?new fe:"memory"==b?new ce:p}
function Zc(a){for(var b=p,c=a.$b,d=0;d<c.length;d++){var e=c[d].toLowerCase();if("indexeddb"==e&&Cd){b=je(a,e);break}else if("websql"==e&&B(w.openDatabase)){b=je(a,e);break}else if("localstorage"==e&&window.localStorage){b=je(a,e);break}else if("sessionstorage"==e&&window.sessionStorage){b=je(a,e);break}else if("memory"==e){b=je(a,e);break}}b===p&&j(new Wb("No storage mechanism found."));b.fa(a.b,a.a).I(function(c){a.c=b;a.tc=NaN;ke(a);wc(a,new he("connected",a,parseFloat(b.ob()),c));b.b=aa()}).Sa(function(b){M(new I,
b);if(a.i)for(var c=a.i.shift();c;)c.P("error",b),c=a.i.shift();c=new he("failed",a,NaN,NaN);c.message=b.message;wc(a,c)})}v=Z.prototype;v.type=function(){return this.c?this.c.type():""};v.sc=function(){this.c&&(this.c.Oa(),this.c=p)};v.tc=NaN;function ke(a){var b=a.i.shift();b&&Z.prototype.aa.call(a,b.Za,b.hc,b.mode,b.P);la()}v.Fa=q;
v.aa=function(a,b,c,d){var e=b;z(b)?e=[b]:b!=p?(!y(b)||!z(b[0]))&&j(p):e=p;if(!this.c||!this.c.pb()||this.Fa)this.i.push({Za:a,hc:e,mode:c,P:d}),la();else{var f=this,g=x(c)?c:O;g==Bb&&(this.Fa=n);this.c.Ba(function(b){a(b)},e,g,function(a,b){B(d)&&d(a,b);g==Bb&&(f.Fa=q);ke(f)})}};v.toString=function(){return"ydn.db.con.Storage:"+this.c};function Rc(){this.a=p}Rc.prototype.La=p;Rc.prototype.P=p;Rc.prototype.h=s("a");Rc.prototype.toString=t("Mutex");function le(a){this.a=a;this.W=p}v=le.prototype;v.type=function(){return this.a.type()};v.W=p;v.h=s("W");v.Rb=function(){this.W?this.W.abort():j(new Xb("No active transaction"))};v.rb=function(a,b,c,d){var e=this;this.a.aa(function(b){e.W=b;a(e)},b,c,function(a,b){e.W=p;B(d)&&d(a,b)})};v.g=function(a,b,c,d,e){var f=this;this.a.aa(function(b){f.W=b;a(b)},b,c,function(a,b){f.W=p;B(e)&&e(a,b)})};v.toString=function(){return"ydn.db.tr.ParallelThread:"+this.a.b};function me(a){le.call(this,a);this.b=q}F(me,le);me.prototype.b=q;me.prototype.g=function(a,b,c,d,e){var f=this.h();f?a(f):(this.b&&j(new Lb),this.b=n,me.T.g.call(this,a,b,c,d,e))};function ne(a,b,c){Z.call(this,a,b,c);this.q=0;a="atomic-serial";c&&c.thread&&(a=Pc.indexOf(c.thread),-1==a&&j(new V("thread: "+c.thread)),a=Pc[a]);this.na=a;this.d=this.u(this.na)}F(ne,Z);ne.prototype.q=0;ne.prototype.u=function(a){a=oe(this,a);return this.sa(a)};ne.prototype.sa=function(a){return new Tc(this,this.a,a)};function oe(a,b){b=b||a.na;if("atomic-parallel"==b)return new le(a,a.q++);if("atomic-serial"==b)return new Sc(a,a.q++);if("single"==b)return new me(a,a.q++);j(new V(b))}
ne.prototype.dc=function(a,b,c,d,e){var f=a.name||"",g=oe(this,"single"),h=this.sa(g),l=c||O;b!=p||(b=ad(this.a));var m=a;if(4<arguments.length)var u=Array.prototype.slice.call(arguments,4),m=function(){var b=Array.prototype.slice.call(arguments),b=b.concat(u);return a.apply(this,b)};g.g(function(){m(h)},b,l,f,d)};function $(a,b,c){ne.call(this,a,b,c)}F($,ne);v=$.prototype;v.sa=function(a){return new X(this,this.a,a)};v.f=function(){var a=this.type();if("indexeddb"==a)return new Yb(this.b,this.a);if("websql"==a)return new Dc(this.b,this.a);if("memory"==a||"localstorage"==a||"sessionstorage"==a)return new zc(this.b,this.a);j(new Kb("No executor for "+a))};v.Pa=function(a,b,c){return this.d.Pa(a,b,c)};v.ga=function(a,b,c){return this.d.ga(a,b,c)};v.ha=function(a,b){return this.d.ha(a,b)};
v.keys=function(a,b,c){return this.d.keys(a,b,c)};v.ia=function(a,b,c){return this.d.ia(a,b,c)};v.Qa=function(a,b,c){return this.d.Qa(a,b,c)};v.clear=function(a,b,c){return this.d.clear(a,b,c)};v.toString=function(){return"Storage:"+this.b};function pe(a,b,c){ne.call(this,a,b,c)}F(pe,$);v=pe.prototype;v.f=function(){var a=this.type();if("indexeddb"==a)return new Id(this.b,this.a);if("websql"==a)return new Kd(this.b,this.a);if("memory"==a||"localstorage"==a||"sessionstorage"==a)return new Nd(this.b,this.a);j(new Kb("No executor for "+a))};v.sa=function(a){return new Y(this,this.a,a)};v.vc=function(a,b,c){return this.d.ja(a,b,c)};v.wc=function(a,b,c){return this.d.Ob(a,b,c)};v.map=function(a,b){return this.d.map(a,b)};
v.reduce=function(a,b,c){return this.d.reduce(a,b,c)};function qe(a,b,c){ne.call(this,a,b,c)}F(qe,pe);qe.prototype.f=function(){var a=this.type();if("indexeddb"==a)return new Vd(this.b,this.a);if("websql"==a)return new Zd(this.b,this.a);if("memory"==a||"localstorage"==a||"sessionstorage"==a)return new $d(this.b,this.a);j(new Kb("No executor for "+a))};qe.prototype.sa=function(a){return new ae(this,this.a,a)};qe.prototype.executeSql=function(a,b){return this.d.executeSql(a,b)};function re(a,b,c){ne.call(this,a,b,c)}F(re,qe);function se(a,b){Fd.call(this,a,b)}F(se,Fd);se.prototype.ya=t(q);se.prototype.Ka=function(a){function b(e){x(a[e])?(d=q,c[e]=n):(c[e]=q,0<=e-1&&b(e-1))}var c=[],d=n;b(a.length-1);d&&(c=[]);return Gd(this,c,a)};function te(a,b){Fd.call(this,a,b)}F(te,Fd);te.prototype.ya=t(q);function ue(a){var b=[],c=a[0];if(c==p)return{advance:[],Cb:p,sb:q,a:q};for(var d=n,e=q,f=c,g=[],h=1;h<a.length;h++)if(a[h]!=p){var l=S(c,a[h]);g[h]=l;1===l?d=q:-1===l&&(d=q,e=n,1===S(a[h],f)&&(f=a[h]))}else d=q,e=n;if(d)for(h=0;h<a.length;h++)a[h]!=p&&(b[h]=n);else if(e)for(h=0;h<a.length;h++)a[h]!=p&&1===S(f,a[h])&&(b[h]=f);else for(h=1;h<a.length;h++)1===g[h]&&(b[h]=c);return{advance:b,Cb:f,sb:d,a:e}}
te.prototype.Ka=function(a){var b=ue(a);return Gd(this,b.advance,a)};function ve(a,b){Fd.call(this,a,b);this.$=[];this.Mb=[];this.hb=q}F(ve,Fd);v=ve.prototype;v.$=[];v.Mb=[];v.hb=q;v.ya=function(a){1==a.length&&j(new Xb("number of iterators must be more than one."));2<a.length&&(this.hb=n);Fa(this.$);Fa(this.Mb);return q};
v.Ka=function(a){var b,c=q,d;this.hb?(d=ue(a.slice(1)),b=d.advance,c=d.sb,d=d.Cb):a[1]!=p?(b=[n],d=a[1],c=n):b=[];if(0==b.length)return Fa(this.$),[];for(var e=this.$.length-1;0<e;e--)-1!=S(this.$[e],d)&&this.$.splice(e,1);c?b.unshift(n):(this.$.push(a[0]),b.unshift(p));return b};E("ydn.db.Storage",re);E("ydn.db.algo.NestedLoop",se);E("ydn.db.algo.AbstractSolver",Fd);E("ydn.db.algo.ZigzagMerge",ve);E("ydn.db.algo.SortedMerge",te);I.prototype.done=I.prototype.I;I.prototype.fail=I.prototype.Sa;I.prototype.then=I.prototype.J;I.prototype.always=I.prototype.Sb;vc.prototype.addEventListener=vc.prototype.addEventListener;E("ydn.db.con.Storage",Z);Z.prototype.type=Z.prototype.type;Z.prototype.setName=Z.prototype.N;Z.prototype.getName=Z.prototype.bc;Z.prototype.getSchema=Z.prototype.cc;Z.prototype.transaction=Z.prototype.aa;Z.prototype.close=Z.prototype.sc;
E("ydn.db.deleteDatabase",function(a,b){(!b||"indexeddb"==b)&&(Cd&&"deleteDatabase"in Cd)&&Cd.deleteDatabase(a);if(!b||"websql"==b){var c=new Dd,d=new Yc,d=c.fa(a,d),e=aa();d.I(function(){c.Ba(function(a){c.R(function(b){var c=b.stores.length;if(0<c)for(var d=0;d<c;d++){var e=b.b(d);a.executeSql("DROP TABLE "+Ic(e))}},a)},[],Ab,e)});d.Sa(aa())}if(!b||"localstorage"==b){var d=new ee,f=new Yc;d.fa(a,f);Cc(d)}if(!b||"sessionstorage"==b)d=new fe,f=new Yc,d.fa(a,f),Cc(d)});he.prototype.name=he.prototype.name;
he.prototype.getVersion=he.prototype.uc;he.prototype.getOldVersion=he.prototype.Zb;ne.prototype.run=ne.prototype.dc;Tc.prototype.abort=Tc.prototype.i;E("ydn.db.core.Storage",$);$.prototype.thread=$.prototype.u;$.prototype.add=$.prototype.Pa;$.prototype.get=$.prototype.ha;$.prototype.list=$.prototype.ia;$.prototype.put=$.prototype.Qa;$.prototype.clear=$.prototype.clear;$.prototype.count=$.prototype.ga;X.prototype.add=X.prototype.Pa;X.prototype.get=X.prototype.ha;X.prototype.list=X.prototype.ia;X.prototype.put=X.prototype.Qa;X.prototype.clear=X.prototype.clear;X.prototype.count=X.prototype.ga;E("ydn.db.cmp",S);E("ydn.db.Key",Rb);
Rb.prototype.id=Rb.prototype.Yb;Rb.prototype.parent=Rb.prototype.qc;Rb.prototype.storeName=Rb.prototype.rc;E("ydn.db.KeyRange",G);G.upperBound=function(a,b){return new G(k,a,k,b)};G.lowerBound=function(a,b){return new G(a,k,b,k)};G.bound=oa;G.only=function(a){return new G(a,a,q,q)};G.starts=pa;ge.prototype.store_name=ge.prototype.d;ge.prototype.getStoreName=ge.prototype.q;ed.prototype.name=ed.prototype.name;ed.prototype.getKey=ed.prototype.i;ed.prototype.getValue=ed.prototype.u;
cd.prototype.name=cd.prototype.name;cd.prototype.getKeys=cd.prototype.Ea;cd.prototype.getValues=cd.prototype.i;pe.prototype.thread=pe.prototype.u;pe.prototype.scan=pe.prototype.wc;pe.prototype.map=pe.prototype.map;pe.prototype.reduce=pe.prototype.reduce;pe.prototype.open=pe.prototype.vc;Y.prototype.ja.scan=Y.prototype.Ob;Y.prototype.ja.map=Y.prototype.map;Y.prototype.ja.reduce=Y.prototype.reduce;Y.prototype.ja.open=Y.prototype.ja;Hd.prototype.key=Hd.prototype.k;Hd.prototype.indexKey=Hd.prototype.F;Hd.prototype.value=Hd.prototype.V;Hd.prototype.update=Hd.prototype.xc;Hd.prototype.clear=Hd.prototype.clear;
E("ydn.math.Expression",Od);Od.prototype.evaluate=Od.prototype.b;Od.prototype.compile=Od.prototype.c;Od.parseRpn=function(a){return new Od(a.match(/[^\s"']+|"[^"]*"|'[^']*'/g))};Od.parseInfix=function(){j(new Ub("Too lazy to learn Dutch in Shunting Yard station, we speak Polish here."))};E("ydn.db.Iterator",R);E("ydn.db.KeyIterator",Db);E("ydn.db.ValueIterator",Fb);E("ydn.db.KeyIndexIterator",Eb);E("ydn.db.ValueIndexIterator",Gb);R.prototype.count=R.prototype.jc;R.prototype.done=R.prototype.Xb;
R.prototype.getKeyRange=R.prototype.Bb;R.prototype.getIndexName=R.prototype.kc;R.prototype.getStoreName=R.prototype.lc;R.prototype.indexKey=R.prototype.mc;R.prototype.isReversed=R.prototype.Lb;R.prototype.isUnique=R.prototype.oc;R.prototype.isKeyOnly=R.prototype.nc;R.prototype.key=R.prototype.key;R.prototype.resume=R.prototype.gc;R.prototype.reset=R.prototype.pc;Db.where=function(a,b,c,d,e){return new Db(a,ta(b,c,d,e))};Fb.where=function(a,b,c,d,e){return new Fb(a,ta(b,c,d,e))};
Eb.where=function(a,b,c,d,e,f){return new Eb(a,b,ta(c,d,e,f))};Gb.where=function(a,b,c,d,e,f){return new Gb(a,b,ta(c,d,e,f))};})();
